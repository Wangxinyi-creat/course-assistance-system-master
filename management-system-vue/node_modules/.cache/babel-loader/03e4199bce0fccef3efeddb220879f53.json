{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\notice\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\notice\\index.vue","mtime":1715495478152},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\babel.config.js","mtime":1715789491216},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBNZXNzYWdlLCBNZXNzYWdlQm94IH0gZnJvbSAiZWxlbWVudC11aSI7CmltcG9ydCB7IGNoYW5nZVN0YXR1cywgZGVsTm90aWNlLCBnZXROb3RpY2UgfSBmcm9tICJAL2FwaS9zeXN0ZW0vbm90aWNlIjsKaW1wb3J0IHsgQ2hlY2tOb3RpY2VSb3V0ZXIsIGFkZE9yRWRpdE5vdGljZVJvdXRlciB9IGZyb20gIkAvdXRpbHMvYWRkUm91dGVyIjsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ05vdGljZScsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogewogICAgICAgIGRhdGE6IFtdLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgIHBhcmFtOiB7CiAgICAgICAgICBub3RpY2VUaXRsZTogJycsCiAgICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgICAgcGFnZU51bTogMSwKICAgICAgICAgIHBhZ2VTaXplOiAxMAogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFRhYmxlRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDojrflj5bpgJrnn6XlhazlkYoKICAgICAqLwogICAgZ2V0VGFibGVEYXRhKCkgewogICAgICAvL+afpeivouadg+mZkO+8jOaXoOadg+mZkOS7heafpeivouW3suWPkeW4g+eKtuaAgQogICAgICBjb25zdCBwZXJtaXNzaW9ucyA9IHN0b3JlLnN0YXRlLnVzZXJJbmZvcy51c2VySW5mb3MuYXV0aEJ0bkxpc3Q7CiAgICAgIGlmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoInN5c3RlbTpub3RpY2U6dXBkYXRlIikpIHRoaXMudGFibGVEYXRhLnBhcmFtLnN0YXR1cyA9IDE7CiAgICAgIHRoaXMudGFibGVEYXRhLmxvYWRpbmcgPSB0cnVlOwogICAgICAvL+afpeivogogICAgICBnZXROb3RpY2UodGhpcy50YWJsZURhdGEucGFyYW0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnRhYmxlRGF0YS5kYXRhID0gcmVzLmRhdGEubGlzdDsKICAgICAgICB0aGlzLnRhYmxlRGF0YS50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy50YWJsZURhdGEubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICog5re75Yqg5oiW5L+u5pS55by55qGGCiAgICAgKiBAcGFyYW0gZmxhZwogICAgICogQHBhcmFtIHJvdwogICAgICovCiAgICBvcGVuQWRkT3JVcGRhdGUoZmxhZywgcm93KSB7CiAgICAgIC8v5re75Yqg6Lev55SxCiAgICAgIGFkZE9yRWRpdE5vdGljZVJvdXRlcigpOyAvL+a3u+WKoOOAgeS/ruaUuemAmuefpeWFrOWRiui3r+eUsQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2FkZE9yRWRpdC1ub3RpY2UnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgZmxhZzogZmxhZywKICAgICAgICAgIHJvdzogcm93CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOWIoOmZpOmAmuefpeWFrOWRigogICAgICogQHBhcmFtIHJvdwogICAgICovCiAgICBvblJvd0RlbChyb3cpIHsKICAgICAgLy/mj5DnpLoKICAgICAgTWVzc2FnZUJveC5jb25maXJtKGDmraTmk43kvZzlsIbmsLjkuYXliKDpmaTpgJrnn6XlhazlkYrmoIfpopjkuLrvvJrigJwke3Jvdy5ub3RpY2VUaXRsZX3igJ3nmoTmlbDmja7vvIzmmK/lkKbnu6fnu60/YCwgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruiupCcsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIC8v6LCD55So5Yig6Zmk5pa55rOVCiAgICAgICAgZGVsTm90aWNlKHJvdy5ub3RpY2VJZCkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKTsKICAgICAgICAgIE1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOafpeeci+mAmuefpeWFrOWRiuivpuaDhQogICAgICogQHBhcmFtIHJvdwogICAgICovCiAgICBvcGVuQ2hlY2socm93KSB7CiAgICAgIENoZWNrTm90aWNlUm91dGVyKCk7IC8v5p+l6K+i5YWs5ZGK6K+m5oOF6Lev55SxCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnY2hlY2tOb3RpY2UnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBpZDogcm93Lm5vdGljZUlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOmAmuefpeWFrOWRiuS/ruaUueWbnuiwgwogICAgICovCiAgICBjaGFuZ2VTdGF0dXMocm93KSB7CiAgICAgIGNoYW5nZVN0YXR1cyhyb3cubm90aWNlSWQsIHJvdy5zdGF0dXMpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgTWVzc2FnZS5zdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOS/ruaUueavj+mhteaJgOWtmOaVsOaNrumHj+eahOWAvOaJgOinpuWPkeeahOWHveaVsAogICAgICogQHBhcmFtIHZhbAogICAgICovCiAgICBvbkhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIC8vIOS/ruaUuemhteeahOWkp+WwjwogICAgICB0aGlzLnRhYmxlRGF0YS5wYXJhbS5wYWdlU2l6ZSA9IHZhbDsKICAgICAgLy8g5oyJ5paw55qEcGFnZU5v5ZKMcGFnZVNpemXov5vooYzmn6Xor6IKICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKTsKICAgIH0sCiAgICAvKioKICAgICAqIOS/ruaUueW9k+WJjemhteaJgOinpuWPkeeahOWHveaVsAogICAgICogQHBhcmFtIHZhbAogICAgICovCiAgICBvbkhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIC8vIOabtOaWsOW9k+WJjeeahOmhtQogICAgICB0aGlzLnRhYmxlRGF0YS5wYXJhbS5wYWdlTnVtID0gdmFsOwogICAgICAvLyDmjInmlrDnmoRwYWdlTm/lkoxwYWdlU2l6Zei/m+ihjOafpeivogogICAgICB0aGlzLmdldFRhYmxlRGF0YSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["Message","MessageBox","changeStatus","delNotice","getNotice","CheckNoticeRouter","addOrEditNoticeRouter","store","name","data","tableData","total","loading","param","noticeTitle","status","pageNum","pageSize","mounted","getTableData","methods","permissions","state","userInfos","authBtnList","includes","then","res","list","setTimeout","openAddOrUpdate","flag","row","$router","push","params","onRowDel","confirm","confirmButtonText","cancelButtonText","type","noticeId","success","catch","openCheck","query","id","code","message","onHandleSizeChange","val","onHandleCurrentChange"],"sources":["src/views/system/notice/index.vue"],"sourcesContent":["<template>\n  <div class=\"system-user-container layout-padding\">\n    <el-card shadow=\"hover\" class=\"layout-padding-auto\">\n      <div class=\"system-user-search mb15\">\n        <el-input size=\"medium\" v-model=\"tableData.param.noticeTitle\" placeholder=\"请输入通知公告名称\" clearable\n                  style=\"max-width: 200px\"></el-input>\n        <el-button size=\"medium\" type=\"primary\" class=\"ml10\" icon=\"el-icon-search\" @click=\"getTableData()\">\n          查询\n        </el-button>\n        <el-button size=\"medium\" type=\"success\" class=\"ml10\" icon=\"el-icon-plus\"\n                   v-hasPermi=\"['system:notice:add']\"\n                   @click=\"openAddOrUpdate('add',1)\">\n          新增\n        </el-button>\n      </div>\n\n      <el-table :data=\"tableData.data\" v-loading=\"tableData.loading\" style=\"width: 100%;min-height:calc(100vh - 320px)\">\n        <el-table-column type=\"index\" label=\"序号\" align=\"center\" width=\"60\"/>\n        <el-table-column prop=\"noticeTitle\" label=\"标题\" align=\"center\" width=\"400\"\n                         show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"noticeType\" label=\"类型\" align=\"center\" show-overflow-tooltip>\n          <template #default=\"scope\">\n            {{ scope.row.noticeType === '1' ? '通知' : '公告' }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"状态\" align=\"center\">\n          <template #default=\"scope\">\n            <el-switch\n                @change=\"changeStatus(scope.row)\"\n                style=\"display: block\"\n                v-model=\"scope.row.status\"\n                active-color=\"#13ce66\"\n                inactive-color=\"#ff4949\"\n                active-text=\"发布中\"\n                inactive-text=\"编辑\">\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"createBy\" label=\"创建人\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"createTime\" label=\"创建时间\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"updateBy\" label=\"修改人\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"updateTime\" label=\"修改时间\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <!--        <el-table-column prop=\"remark\" label=\"备注\" align=\"center\" show-overflow-tooltip></el-table-column>-->\n        <el-table-column label=\"操作\" align=\"center\" width=\"200px\">\n          <template #default=\"scope\">\n            <el-button size=\"small\"\n                       type=\"text\"\n                       icon=\"el-icon-view\"\n                       @click=\"openCheck(scope.row)\"\n            >查看\n            </el-button>\n            <el-button size=\"small\"\n                       type=\"text\"\n                       icon=\"el-icon-edit\"\n                       v-hasPermi=\"['system:notice:update']\"\n                       @click=\"openAddOrUpdate('edit', scope.row)\"\n            >修改\n            </el-button>\n            <el-button size=\"small\"\n                       type=\"text\"\n                       icon=\"el-icon-delete\"\n                       v-hasPermi=\"['system:notice:delete']\"\n                       @click=\"onRowDel(scope.row)\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-pagination\n          @size-change=\"onHandleSizeChange\"\n          @current-change=\"onHandleCurrentChange\"\n          class=\"mt15\"\n          :pager-count=\"5\"\n          :page-sizes=\"[10, 20, 30]\"\n          v-model:current-page=\"tableData.param.pageNum\"\n          background\n          v-model:page-size=\"tableData.param.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"tableData.total\"\n      >\n      </el-pagination>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport {Message, MessageBox} from \"element-ui\";\nimport {changeStatus, delNotice, getNotice} from \"@/api/system/notice\";\nimport {CheckNoticeRouter, addOrEditNoticeRouter} from \"@/utils/addRouter\";\nimport store from \"@/store\";\n\nexport default {\n  name: 'Notice',\n  data() {\n    return {\n      tableData: {\n        data: [],\n        total: 0,\n        loading: false,\n        param: {\n          noticeTitle: '',\n          status: '',\n          pageNum: 1,\n          pageSize: 10,\n        },\n      },\n    };\n  },\n  mounted() {\n    this.getTableData();\n  },\n  methods: {\n    /**\n     * 获取通知公告\n     */\n    getTableData() {\n      //查询权限，无权限仅查询已发布状态\n      const permissions = store.state.userInfos.userInfos.authBtnList\n      if (!permissions.includes(\"system:notice:update\")) this.tableData.param.status = 1;\n      this.tableData.loading = true;\n      //查询\n      getNotice(this.tableData.param).then(res => {\n        this.tableData.data = res.data.list;\n        this.tableData.total = res.data.total;\n        setTimeout(() => {\n          this.tableData.loading = false;\n        }, 500);\n      })\n    },\n    /**\n     * 添加或修改弹框\n     * @param flag\n     * @param row\n     */\n    openAddOrUpdate(flag, row) {\n      //添加路由\n      addOrEditNoticeRouter()//添加、修改通知公告路由\n      this.$router.push({name: 'addOrEdit-notice', params: {flag: flag, row: row}})\n    },\n    /**\n     * 删除通知公告\n     * @param row\n     */\n    onRowDel(row) {\n      //提示\n      MessageBox.confirm(`此操作将永久删除通知公告标题为：“${row.noticeTitle}”的数据，是否继续?`, '提示', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }).then(() => {\n        //调用删除方法\n        delNotice(row.noticeId).then(res => {\n          this.getTableData();\n          Message.success(\"删除成功\");\n        })\n      }).catch(() => {\n      });\n    },\n    /**\n     * 查看通知公告详情\n     * @param row\n     */\n    openCheck(row) {\n      CheckNoticeRouter()//查询公告详情路由\n      this.$router.push({name: 'checkNotice', query: {id: row.noticeId}})\n    },\n    /**\n     * 通知公告修改回调\n     */\n    changeStatus(row) {\n      changeStatus(row.noticeId, row.status).then(res => {\n        if (res.code === 200) {\n          Message.success(res.message);\n          this.getTableData()\n        }\n      })\n    },\n    /**\n     * 修改每页所存数据量的值所触发的函数\n     * @param val\n     */\n    onHandleSizeChange(val) {\n      // 修改页的大小\n      this.tableData.param.pageSize = val;\n      // 按新的pageNo和pageSize进行查询\n      this.getTableData();\n    },\n    /**\n     * 修改当前页所触发的函数\n     * @param val\n     */\n    onHandleCurrentChange(val) {\n      // 更新当前的页\n      this.tableData.param.pageNum = val;\n      // 按新的pageNo和pageSize进行查询\n      this.getTableData();\n    },\n  }\n};\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA,SAAAA,OAAA,EAAAC,UAAA;AACA,SAAAC,YAAA,EAAAC,SAAA,EAAAC,SAAA;AACA,SAAAC,iBAAA,EAAAC,qBAAA;AACA,OAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;QACAD,IAAA;QACAE,KAAA;QACAC,OAAA;QACAC,KAAA;UACAC,WAAA;UACAC,MAAA;UACAC,OAAA;UACAC,QAAA;QACA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,YAAA;EACA;EACAC,OAAA;IACA;AACA;AACA;IACAD,aAAA;MACA;MACA,MAAAE,WAAA,GAAAd,KAAA,CAAAe,KAAA,CAAAC,SAAA,CAAAA,SAAA,CAAAC,WAAA;MACA,KAAAH,WAAA,CAAAI,QAAA,+BAAAf,SAAA,CAAAG,KAAA,CAAAE,MAAA;MACA,KAAAL,SAAA,CAAAE,OAAA;MACA;MACAR,SAAA,MAAAM,SAAA,CAAAG,KAAA,EAAAa,IAAA,CAAAC,GAAA;QACA,KAAAjB,SAAA,CAAAD,IAAA,GAAAkB,GAAA,CAAAlB,IAAA,CAAAmB,IAAA;QACA,KAAAlB,SAAA,CAAAC,KAAA,GAAAgB,GAAA,CAAAlB,IAAA,CAAAE,KAAA;QACAkB,UAAA;UACA,KAAAnB,SAAA,CAAAE,OAAA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;IACAkB,gBAAAC,IAAA,EAAAC,GAAA;MACA;MACA1B,qBAAA;MACA,KAAA2B,OAAA,CAAAC,IAAA;QAAA1B,IAAA;QAAA2B,MAAA;UAAAJ,IAAA,EAAAA,IAAA;UAAAC,GAAA,EAAAA;QAAA;MAAA;IACA;IACA;AACA;AACA;AACA;IACAI,SAAAJ,GAAA;MACA;MACA/B,UAAA,CAAAoC,OAAA,qBAAAL,GAAA,CAAAlB,WAAA;QACAwB,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAd,IAAA;QACA;QACAvB,SAAA,CAAA6B,GAAA,CAAAS,QAAA,EAAAf,IAAA,CAAAC,GAAA;UACA,KAAAR,YAAA;UACAnB,OAAA,CAAA0C,OAAA;QACA;MACA,GAAAC,KAAA,QACA;IACA;IACA;AACA;AACA;AACA;IACAC,UAAAZ,GAAA;MACA3B,iBAAA;MACA,KAAA4B,OAAA,CAAAC,IAAA;QAAA1B,IAAA;QAAAqC,KAAA;UAAAC,EAAA,EAAAd,GAAA,CAAAS;QAAA;MAAA;IACA;IACA;AACA;AACA;IACAvC,aAAA8B,GAAA;MACA9B,YAAA,CAAA8B,GAAA,CAAAS,QAAA,EAAAT,GAAA,CAAAjB,MAAA,EAAAW,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAoB,IAAA;UACA/C,OAAA,CAAA0C,OAAA,CAAAf,GAAA,CAAAqB,OAAA;UACA,KAAA7B,YAAA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACA8B,mBAAAC,GAAA;MACA;MACA,KAAAxC,SAAA,CAAAG,KAAA,CAAAI,QAAA,GAAAiC,GAAA;MACA;MACA,KAAA/B,YAAA;IACA;IACA;AACA;AACA;AACA;IACAgC,sBAAAD,GAAA;MACA;MACA,KAAAxC,SAAA,CAAAG,KAAA,CAAAG,OAAA,GAAAkC,GAAA;MACA;MACA,KAAA/B,YAAA;IACA;EACA;AACA"}]}