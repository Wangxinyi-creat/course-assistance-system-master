{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\utils\\request.js","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\utils\\request.js","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\babel.config.js","mtime":1715789491216},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHsgU2Vzc2lvbiB9IGZyb20gIkAvdXRpbHMvc3RvcmFnZSI7CmltcG9ydCByb3V0ZXIsIHsgcmVzZXRSb3V0ZXIgfSBmcm9tICJAL3JvdXRlciI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKY29uc3QgcmVxdWVzdCA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJy9hcGknLAogIC8vIOazqOaEj++8ge+8gSDov5nph4zmmK/lhajlsYDnu5/kuIDliqDkuIrkuoYgJy9hcGknIOWJjee8gO+8jOS5n+WwseaYr+ivtOaJgOacieaOpeWPo+mDveS8muWKoOS4iicvYXBpJ+WJjee8gOWcqO+8jOmhtemdoumHjOmdouWGmeaOpeWPo+eahOaXtuWAmeWwseS4jeimgeWKoCAnL2FwaSfkuobvvIzlkKbliJnkvJrlh7rnjrAy5LiqJy9hcGkn77yM57G75Ly8ICcvYXBpL2FwaS91c2VyJ+i/meagt+eahOaKpemUme+8jOWIh+iusO+8ge+8ge+8gQogIHRpbWVvdXQ6IDEwMDAgKiAxODAKfSk7CgovLyByZXF1ZXN0IOaLpuaIquWZqAovLyDlj6/ku6Xoh6ror7fmsYLlj5HpgIHliY3lr7nor7fmsYLlgZrkuIDkupvlpITnkIYKLy8g5q+U5aaC57uf5LiA5YqgdG9rZW7vvIzlr7nor7fmsYLlj4LmlbDnu5/kuIDliqDlr4YKcmVxdWVzdC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHsKICAvL+iOt+WPlnRva2VuCiAgbGV0IHRva2VuID0gU2Vzc2lvbi5nZXQoJ3Rva2VuJyk7CiAgaWYgKHRva2VuKSB7CiAgICAvL+WwhnRva2Vu5pS+5Yiw6K+35rGC5aS05Y+R6YCB57uZ5pyN5Yqh5ZmoCiAgICAvL+i/memHjOe7j+W4uOaQremFjXRva2Vu5L2/55So77yM5bCGdG9rZW7lgLzphY3nva7liLB0b2tlbmtleeS4re+8jOWwhnRva2Vua2V55pS+5Zyo6K+35rGC5aS05LitCiAgICAvLyBjb25maWcuaGVhZGVyc1sndG9rZW4nXSA9IFRva2VuO+OAgOOAgOOAgOOAgAogICAgLy8gY29uZmlnLmhlYWRlcnMudG9rZW7nmoR0b2tlbuaYr+mcgOimgeWSjOWQjuWPsOWumuS5ieWPq+S7gOS5iOeahO+8jOaIkei/memHjOWumuS5ieWPq3Rva2Vu5LqGCiAgICAvLyBjb25maWcuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IGAke1Nlc3Npb24uZ2V0KCd0b2tlbicpfWA7CiAgICBjb25maWcuaGVhZGVycy50b2tlbiA9IHRva2VuOwogIH0KICByZXR1cm4gY29uZmlnOwp9LCBlcnJvciA9PiB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CgovLyByZXNwb25zZSDmi6bmiKrlmagKLy8g5Y+v5Lul5Zyo5o6l5Y+j5ZON5bqU5ZCO57uf5LiA5aSE55CG57uT5p6cCnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7CiAgY29uc3QgdGhhdCA9IHRoaXM7CiAgbGV0IHJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgLy8g5aaC5p6c5piv6L+U5Zue55qE5paH5Lu2CiAgaWYgKHJlc3BvbnNlLmNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICdibG9iJyB8fCByZXNwb25zZS5jb25maWcucmVzcG9uc2VUeXBlID09PSAnYXJyYXlidWZmZXInIHx8IHJlc3BvbnNlLmNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldDtjaGFyc2V0PVVURi04JykgewogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0KICAvL+afpeivoui/lOWbnmNvZGXliKTmlq0KICBpZiAocmVzLmNvZGUgIT09IDIwMCkgewogICAgLy8gNDAzIOeZu+W9lei/h+acnwogICAgaWYgKHJlcy5jb2RlID09PSA0MDMpIHsKICAgICAgLy8g5riF6Zmk5rWP6KeI5Zmo5YWo6YOo5Li05pe257yT5a2YCiAgICAgIFNlc3Npb24uY2xlYXIoKTsKICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAvL+a4hemZpHZ1ZXjkuK3nmoTot6/nlLHkv6Hmga8KICAgICAgc3RvcmUuZGlzcGF0Y2goJ3JvdXRlc0xpc3Qvc2V0Um91dGVzTGlzdCcsIHt9KTsKICAgICAgLy8gc3RvcmUuY29tbWl0KCdzZXRNZW51RGF0YScsIHt9KTsKICAgICAgcmVzZXRSb3V0ZXIoKTsgLy8g6YeN572u6Lev55SxCiAgICAgIC8v5o+Q56S6CiAgICAgIE1lc3NhZ2UuaW5mbygi55m75b2V6L+H5pyf77yM6K+36YeN5paw55m75b2VIik7CiAgICAgIHJldHVybiByZXM7CiAgICB9CiAgICBpZiAocmVzLmNvZGUgPT09IDQwMSkgewogICAgICByb3V0ZXIucHVzaCgnLzQwMScpOwogICAgfSBlbHNlIGlmIChyZXMuY29kZSA9PT0gNDA0KSB7CiAgICAgIHJvdXRlci5wdXNoKCcvNDA0Jyk7CiAgICB9IGVsc2UgewogICAgICBNZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsKICAgIH0KICAgIHJldHVybiByZXM7CiAgfQogIHJldHVybiByZXM7Cn0sIGVycm9yID0+IHsKICBjb25zb2xlLmxvZygnZXJyJyArIGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7IC8vIGZvciBkZWJ1ZwogIC8vIOWvueWTjeW6lOmUmeivr+WBmueCueS7gOS5iAogIGlmIChlcnJvci5tZXNzYWdlLmluZGV4T2YoJ3RpbWVvdXQnKSAhPSAtMSkgewogICAgTWVzc2FnZS5lcnJvcign572R57uc6LaF5pe2Jyk7CiAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlID09ICdOZXR3b3JrIEVycm9yJykgewogICAgTWVzc2FnZS5lcnJvcign572R57uc6L+e5o6l6ZSZ6K+vJyk7CiAgfQogIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMCkgewogICAgTWVzc2FnZS5lcnJvcigi6K+35rGC5Ye66ZSZIik7CiAgfQogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCByZXF1ZXN0Ow=="},{"version":3,"names":["axios","Message","Session","router","resetRouter","store","request","create","baseURL","timeout","interceptors","use","config","token","get","headers","error","Promise","reject","response","that","res","data","responseType","code","clear","push","dispatch","info","message","console","log","status","indexOf"],"sources":["D:/a-project/course-assistance-system-master/management-system-vue/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\nimport {Message} from \"element-ui\";\nimport {Session} from \"@/utils/storage\";\nimport router, {resetRouter} from \"@/router\";\nimport store from \"@/store\";\n\nconst request = axios.create({\n    baseURL: '/api',  // 注意！！ 这里是全局统一加上了 '/api' 前缀，也就是说所有接口都会加上'/api'前缀在，页面里面写接口的时候就不要加 '/api'了，否则会出现2个'/api'，类似 '/api/api/user'这样的报错，切记！！！\n    timeout: 1000 * 180\n})\n\n// request 拦截器\n// 可以自请求发送前对请求做一些处理\n// 比如统一加token，对请求参数统一加密\nrequest.interceptors.request.use(config => {\n    //获取token\n    let token = Session.get('token')\n    if (token) {\n        //将token放到请求头发送给服务器\n        //这里经常搭配token使用，将token值配置到tokenkey中，将tokenkey放在请求头中\n        // config.headers['token'] = Token;　　　　\n        // config.headers.token的token是需要和后台定义叫什么的，我这里定义叫token了\n        // config.headers.common['Authorization'] = `${Session.get('token')}`;\n        config.headers.token = token;\n    }\n    return config;\n}, error => {\n    return Promise.reject(error)\n});\n\n// response 拦截器\n// 可以在接口响应后统一处理结果\nrequest.interceptors.response.use(\n    response => {\n        const that = this\n        let res = response.data;\n        // 如果是返回的文件\n        if (response.config.responseType === 'blob'\n            || response.config.responseType === 'arraybuffer'\n            || response.config.responseType === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8') {\n            return response\n        }\n        //查询返回code判断\n        if (res.code !== 200) {\n            // 403 登录过期\n            if (res.code === 403) {\n                // 清除浏览器全部临时缓存\n                Session.clear();\n                router.push('/login');\n                //清除vuex中的路由信息\n                store.dispatch('routesList/setRoutesList', {});\n                // store.commit('setMenuData', {});\n                resetRouter(); // 重置路由\n                //提示\n                Message.info(\"登录过期，请重新登录\");\n                return res\n            }\n            if (res.code === 401) {\n                router.push('/401');\n            } else if (res.code === 404) {\n                router.push('/404');\n            } else {\n                Message.error(res.message);\n            }\n            return res;\n        }\n        return res;\n    },\n    error => {\n        console.log('err' + error.response.status) // for debug\n        // 对响应错误做点什么\n        if (error.message.indexOf('timeout') != -1) {\n            Message.error('网络超时');\n        } else if (error.message == 'Network Error') {\n            Message.error('网络连接错误');\n        }\n        if (error.response.status === 400) {\n            Message.error(\"请求出错\");\n        }\n\n        return Promise.reject(error);\n    }\n)\n\n\nexport default request\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,OAAO,QAAO,YAAY;AAClC,SAAQC,OAAO,QAAO,iBAAiB;AACvC,OAAOC,MAAM,IAAGC,WAAW,QAAO,UAAU;AAC5C,OAAOC,KAAK,MAAM,SAAS;AAE3B,MAAMC,OAAO,GAAGN,KAAK,CAACO,MAAM,CAAC;EACzBC,OAAO,EAAE,MAAM;EAAG;EAClBC,OAAO,EAAE,IAAI,GAAG;AACpB,CAAC,CAAC;;AAEF;AACA;AACA;AACAH,OAAO,CAACI,YAAY,CAACJ,OAAO,CAACK,GAAG,CAACC,MAAM,IAAI;EACvC;EACA,IAAIC,KAAK,GAAGX,OAAO,CAACY,GAAG,CAAC,OAAO,CAAC;EAChC,IAAID,KAAK,EAAE;IACP;IACA;IACA;IACA;IACA;IACAD,MAAM,CAACG,OAAO,CAACF,KAAK,GAAGA,KAAK;EAChC;EACA,OAAOD,MAAM;AACjB,CAAC,EAAEI,KAAK,IAAI;EACR,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;;AAEF;AACA;AACAV,OAAO,CAACI,YAAY,CAACS,QAAQ,CAACR,GAAG,CAC7BQ,QAAQ,IAAI;EACR,MAAMC,IAAI,GAAG,IAAI;EACjB,IAAIC,GAAG,GAAGF,QAAQ,CAACG,IAAI;EACvB;EACA,IAAIH,QAAQ,CAACP,MAAM,CAACW,YAAY,KAAK,MAAM,IACpCJ,QAAQ,CAACP,MAAM,CAACW,YAAY,KAAK,aAAa,IAC9CJ,QAAQ,CAACP,MAAM,CAACW,YAAY,KAAK,iFAAiF,EAAE;IACvH,OAAOJ,QAAQ;EACnB;EACA;EACA,IAAIE,GAAG,CAACG,IAAI,KAAK,GAAG,EAAE;IAClB;IACA,IAAIH,GAAG,CAACG,IAAI,KAAK,GAAG,EAAE;MAClB;MACAtB,OAAO,CAACuB,KAAK,CAAC,CAAC;MACftB,MAAM,CAACuB,IAAI,CAAC,QAAQ,CAAC;MACrB;MACArB,KAAK,CAACsB,QAAQ,CAAC,0BAA0B,EAAE,CAAC,CAAC,CAAC;MAC9C;MACAvB,WAAW,CAAC,CAAC,CAAC,CAAC;MACf;MACAH,OAAO,CAAC2B,IAAI,CAAC,YAAY,CAAC;MAC1B,OAAOP,GAAG;IACd;IACA,IAAIA,GAAG,CAACG,IAAI,KAAK,GAAG,EAAE;MAClBrB,MAAM,CAACuB,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC,MAAM,IAAIL,GAAG,CAACG,IAAI,KAAK,GAAG,EAAE;MACzBrB,MAAM,CAACuB,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC,MAAM;MACHzB,OAAO,CAACe,KAAK,CAACK,GAAG,CAACQ,OAAO,CAAC;IAC9B;IACA,OAAOR,GAAG;EACd;EACA,OAAOA,GAAG;AACd,CAAC,EACDL,KAAK,IAAI;EACLc,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGf,KAAK,CAACG,QAAQ,CAACa,MAAM,CAAC,EAAC;EAC3C;EACA,IAAIhB,KAAK,CAACa,OAAO,CAACI,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE;IACxChC,OAAO,CAACe,KAAK,CAAC,MAAM,CAAC;EACzB,CAAC,MAAM,IAAIA,KAAK,CAACa,OAAO,IAAI,eAAe,EAAE;IACzC5B,OAAO,CAACe,KAAK,CAAC,QAAQ,CAAC;EAC3B;EACA,IAAIA,KAAK,CAACG,QAAQ,CAACa,MAAM,KAAK,GAAG,EAAE;IAC/B/B,OAAO,CAACe,KAAK,CAAC,MAAM,CAAC;EACzB;EAEA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CACJ,CAAC;AAGD,eAAeV,OAAO"}]}