{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\component\\upload-img\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\component\\upload-img\\index.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\babel.config.js","mtime":1715789491216},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaW1nVXBsb2FkIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElVUExPQUQKICAgIH07CiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IFN0cmluZywKICAgIGRpc2FibGVkOiBCb29sZWFuCiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIOWbvueJh+S4iuS8oOaIkOWKn+WbnuiwgwogICAgICogQHBhcmFtIHJlcwogICAgICogQHBhcmFtIGZpbGUKICAgICAqLwogICAgaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgdGhpcy52YWx1ZSA9IHJlcy5kYXRhOwogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMudmFsdWUpOwogICAgfSwKICAgIC8qKgogICAgICog5Zu+54mH5LiK5Lyg5YmN6LCD55SoCiAgICAgKiBAcGFyYW0gZmlsZQogICAgICogQHJldHVybnMge2Jvb2xlYW59CiAgICAgKi8KICAgIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7CiAgICAgIGNvbnN0IGlzUE5HID0gZmlsZS50eXBlID09PSAnaW1hZ2UvcG5nJzsKICAgICAgY29uc3QgaXNKUEcgPSBmaWxlLnR5cGUgPT09ICdpbWFnZS9qcGVnJzsKICAgICAgY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyOwogICAgICBpZiAoIWlzSlBHICYmICFpc1BORykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWktOWDj+WbvueJh+WPquiDveaYryBKUEcg5oiWIFBORyDmoLzlvI8hJyk7CiAgICAgIH0KICAgICAgaWYgKCFpc0x0Mk0pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMk1CIScpOwogICAgICB9CiAgICAgIGNvbnN0IGlzSU1HID0gaXNKUEcgfHwgaXNQTkc7CiAgICAgIHJldHVybiBpc0lNRyAmJiBpc0x0Mk07CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["name","data","baseURL","process","env","VUE_APP_APIUPLOAD","props","value","String","disabled","Boolean","methods","handleAvatarSuccess","res","file","$emit","beforeAvatarUpload","isPNG","type","isJPG","isLt2M","size","$message","error","isIMG"],"sources":["src/component/upload-img/index.vue"],"sourcesContent":["<template>\n    <el-upload\n        :disabled=\"disabled\"\n        class=\"avatar-uploader\"\n        :action=\"baseURL\"\n        :show-file-list=\"false\"\n        :on-success=\"handleAvatarSuccess\"\n        :before-upload=\"beforeAvatarUpload\">\n        <img v-if=\"value\" :src=\"value\" class=\"avatar\">\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n    </el-upload>\n</template>\n\n<script>\nexport default {\n    name: \"imgUpload\",\n    data() {\n        return {\n            baseURL: process.env.VUE_APP_APIUPLOAD\n        }\n    },\n    props: {\n        value: String,\n        disabled: Boolean\n    },\n    methods: {\n        /**\n         * 图片上传成功回调\n         * @param res\n         * @param file\n         */\n        handleAvatarSuccess(res, file) {\n            this.value = res.data;\n            this.$emit(\"input\", this.value)\n        },\n        /**\n         * 图片上传前调用\n         * @param file\n         * @returns {boolean}\n         */\n        beforeAvatarUpload(file) {\n            const isPNG = file.type === 'image/png';\n            const isJPG = file.type === 'image/jpeg';\n            const isLt2M = file.size / 1024 / 1024 < 2;\n\n            if (!isJPG && !isPNG) {\n                this.$message.error('上传头像图片只能是 JPG 或 PNG 格式!');\n            }\n            if (!isLt2M) {\n                this.$message.error('上传头像图片大小不能超过 2MB!');\n            }\n            const isIMG = isJPG || isPNG\n            return isIMG && isLt2M;\n        }\n    }\n}\n\n</script>\n\n\n<style>\n.avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n\n.avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n}\n\n.avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n    text-align: center;\n}\n\n.avatar {\n    width: 120px;\n    height: 120px;\n    display: block;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;AAcA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,OAAA,EAAAC,OAAA,CAAAC,GAAA,CAAAC;IACA;EACA;EACAC,KAAA;IACAC,KAAA,EAAAC,MAAA;IACAC,QAAA,EAAAC;EACA;EACAC,OAAA;IACA;AACA;AACA;AACA;AACA;IACAC,oBAAAC,GAAA,EAAAC,IAAA;MACA,KAAAP,KAAA,GAAAM,GAAA,CAAAZ,IAAA;MACA,KAAAc,KAAA,eAAAR,KAAA;IACA;IACA;AACA;AACA;AACA;AACA;IACAS,mBAAAF,IAAA;MACA,MAAAG,KAAA,GAAAH,IAAA,CAAAI,IAAA;MACA,MAAAC,KAAA,GAAAL,IAAA,CAAAI,IAAA;MACA,MAAAE,MAAA,GAAAN,IAAA,CAAAO,IAAA;MAEA,KAAAF,KAAA,KAAAF,KAAA;QACA,KAAAK,QAAA,CAAAC,KAAA;MACA;MACA,KAAAH,MAAA;QACA,KAAAE,QAAA,CAAAC,KAAA;MACA;MACA,MAAAC,KAAA,GAAAL,KAAA,IAAAF,KAAA;MACA,OAAAO,KAAA,IAAAJ,MAAA;IACA;EACA;AACA"}]}