{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\utils\\downLoad.js","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\utils\\downLoad.js","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\babel.config.js","mtime":1715789491216},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLnNpemUuanMiOwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC11aSI7CmltcG9ydCByZXF1ZXN0IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCc7CgovKioKICogRVhDRWzpgJrnlKjkuIvovb3lt6XlhbcgIOiwg+eUqOaOpeWPo+WQjuWcqOiwg+eUqAogKiDms6jvvJrmjqXlj6Por7fmsYLpnIDmt7vliqDvvJpyZXNwb25zZVR5cGU6ICdibG9iJwogKgogKiBAcGFyYW0gcmVzICAg5a+85Ye65o6l5Y+j6L+U5Zue5YC8CiAqIEByZXR1cm5zIHtQcm9taXNlPEF4aW9zUmVzcG9uc2U8YW55Pj59CiAqLwpleHBvcnQgZnVuY3Rpb24gZG93bmxvYWQocmVzKSB7CiAgdmFyIF9yZXMkaGVhZGVycyRjb250ZW50OwogIGNvbnN0IGNvbnRlbnQgPSByZXMuZGF0YTsKICAvLyBsZXQgZmlsZW5hbWUgPSByZXMuaGVhZGVyc1siY29udGVudC1kaXNwb3NpdGlvbiJdLnNwbGl0KCc7JylbMV07CiAgY29uc3QgaGVhZGVyRmlsZW5hbWUgPSAoX3JlcyRoZWFkZXJzJGNvbnRlbnQgPSByZXMuaGVhZGVyc1snY29udGVudC1kaXNwb3NpdGlvbiddKSA9PT0gbnVsbCB8fCBfcmVzJGhlYWRlcnMkY29udGVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyRoZWFkZXJzJGNvbnRlbnQuc3BsaXQoJzsnKVsxXS5zcGxpdCgnPScpWzFdOwogIGNvbnN0IGZpbGVuYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGhlYWRlckZpbGVuYW1lKTsKICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdLCB7CiAgICB0eXBlOiAiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQ7Y2hhcnNldD1VVEYtOCIKICB9KTsKICBpZiAoJ2Rvd25sb2FkJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykpIHsKICAgIGNvbnN0IGVsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgZWxpbmsuZG93bmxvYWQgPSBmaWxlbmFtZTsKICAgIGVsaW5rLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICBlbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxpbmspOwogICAgZWxpbmsuY2xpY2soKTsKICAgIFVSTC5yZXZva2VPYmplY3RVUkwoZWxpbmsuaHJlZik7CiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsaW5rKTsKICAgIE1lc3NhZ2Uuc3VjY2Vzcygi5a+85Ye65oiQ5YqfIik7CiAgfSBlbHNlIHsKICAgIG5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGZpbGVuYW1lKTsKICB9Cn0KCi8qKgogKiBFWENFbOmAmueUqOS4i+i9veW3peWFtyAgdXJsK2RhdGEKICoKICogQHBhcmFtIHVybCAg5Zyw5Z2ACiAqIEBwYXJhbSBkYXRhIOafpeivouWPguaVsAogKiBAcmV0dXJucyB7UHJvbWlzZTxBeGlvc1Jlc3BvbnNlPGFueT4+fQogKi8KZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkQnlVcmwodXJsLCBkYXRhKSB7CiAgcmV0dXJuIHJlcXVlc3QucG9zdCh1cmwsIGRhdGEsIHsKICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InCiAgfSkudGhlbihyZXMgPT4gewogICAgZG93bmxvYWQocmVzKTsKICB9KS5jYXRjaChyID0+IHsKICAgIE1lc3NhZ2UuZXJyb3IoIuWPkeeUn+mUmeivrzoiICsgcik7CiAgICBjb25zb2xlLmVycm9yKHIpOwogIH0pOwp9"},{"version":3,"names":["Message","request","download","res","_res$headers$content","content","data","headerFilename","headers","split","filename","decodeURIComponent","blob","Blob","type","document","createElement","elink","style","display","href","URL","createObjectURL","body","appendChild","click","revokeObjectURL","removeChild","success","navigator","msSaveBlob","downloadByUrl","url","post","responseType","then","catch","r","error","console"],"sources":["D:/a-project/course-assistance-system-master/management-system-vue/src/utils/downLoad.js"],"sourcesContent":["import {Message} from \"element-ui\";\nimport request from '@/utils/request';\n\n/**\n * EXCEl通用下载工具  调用接口后在调用\n * 注：接口请求需添加：responseType: 'blob'\n *\n * @param res   导出接口返回值\n * @returns {Promise<AxiosResponse<any>>}\n */\nexport function download(res) {\n    const content = res.data\n    // let filename = res.headers[\"content-disposition\"].split(';')[1];\n    const headerFilename = res.headers['content-disposition']?.split(';')[1].split('=')[1];\n    const filename = decodeURIComponent(headerFilename);\n    const blob = new Blob([content], {type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\"})\n    if ('download' in document.createElement('a')) {\n        const elink = document.createElement('a')\n        elink.download = filename\n        elink.style.display = 'none'\n        elink.href = URL.createObjectURL(blob)\n        document.body.appendChild(elink)\n        elink.click()\n        URL.revokeObjectURL(elink.href)\n        document.body.removeChild(elink)\n        Message.success(\"导出成功\")\n    } else {\n        navigator.msSaveBlob(blob, filename)\n    }\n}\n\n\n/**\n * EXCEl通用下载工具  url+data\n *\n * @param url  地址\n * @param data 查询参数\n * @returns {Promise<AxiosResponse<any>>}\n */\nexport function downloadByUrl(url, data) {\n    return request.post(url, data, {responseType: 'blob'}).then((res) => {\n        download(res)\n    }).catch((r) => {\n        Message.error(\"发生错误:\" + r)\n        console.error(r)\n    })\n}\n"],"mappings":";AAAA,SAAQA,OAAO,QAAO,YAAY;AAClC,OAAOC,OAAO,MAAM,iBAAiB;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,QAAQA,CAACC,GAAG,EAAE;EAAA,IAAAC,oBAAA;EAC1B,MAAMC,OAAO,GAAGF,GAAG,CAACG,IAAI;EACxB;EACA,MAAMC,cAAc,IAAAH,oBAAA,GAAGD,GAAG,CAACK,OAAO,CAAC,qBAAqB,CAAC,cAAAJ,oBAAA,uBAAlCA,oBAAA,CAAoCK,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACtF,MAAMC,QAAQ,GAAGC,kBAAkB,CAACJ,cAAc,CAAC;EACnD,MAAMK,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACR,OAAO,CAAC,EAAE;IAACS,IAAI,EAAE;EAAiF,CAAC,CAAC;EAC3H,IAAI,UAAU,IAAIC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,EAAE;IAC3C,MAAMC,KAAK,GAAGF,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACzCC,KAAK,CAACf,QAAQ,GAAGQ,QAAQ;IACzBO,KAAK,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;IAC5BF,KAAK,CAACG,IAAI,GAAGC,GAAG,CAACC,eAAe,CAACV,IAAI,CAAC;IACtCG,QAAQ,CAACQ,IAAI,CAACC,WAAW,CAACP,KAAK,CAAC;IAChCA,KAAK,CAACQ,KAAK,CAAC,CAAC;IACbJ,GAAG,CAACK,eAAe,CAACT,KAAK,CAACG,IAAI,CAAC;IAC/BL,QAAQ,CAACQ,IAAI,CAACI,WAAW,CAACV,KAAK,CAAC;IAChCjB,OAAO,CAAC4B,OAAO,CAAC,MAAM,CAAC;EAC3B,CAAC,MAAM;IACHC,SAAS,CAACC,UAAU,CAAClB,IAAI,EAAEF,QAAQ,CAAC;EACxC;AACJ;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASqB,aAAaA,CAACC,GAAG,EAAE1B,IAAI,EAAE;EACrC,OAAOL,OAAO,CAACgC,IAAI,CAACD,GAAG,EAAE1B,IAAI,EAAE;IAAC4B,YAAY,EAAE;EAAM,CAAC,CAAC,CAACC,IAAI,CAAEhC,GAAG,IAAK;IACjED,QAAQ,CAACC,GAAG,CAAC;EACjB,CAAC,CAAC,CAACiC,KAAK,CAAEC,CAAC,IAAK;IACZrC,OAAO,CAACsC,KAAK,CAAC,OAAO,GAAGD,CAAC,CAAC;IAC1BE,OAAO,CAACD,KAAK,CAACD,CAAC,CAAC;EACpB,CAAC,CAAC;AACN"}]}