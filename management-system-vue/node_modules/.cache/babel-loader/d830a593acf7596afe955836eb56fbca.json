{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\dept\\dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\dept\\dialog.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\babel.config.js","mtime":1715789491216},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHsgYWRkRGVwdCwgdXBkYXRlRGVwdCB9IGZyb20gIkAvYXBpL3N5c3RlbS9kZXB0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEZXB0RGlhbG9nJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiB7CiAgICAgICAgaXNTaG93RGlhbG9nOiBmYWxzZSwKICAgICAgICB0eXBlOiAnJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgc3VibWl0VHh0OiAnJwogICAgICB9LAogICAgICBpc0xpbmtGbGFnOiBmYWxzZSwKICAgICAgcnVsZUZvcm06IHt9LAogICAgICBkZXB0RGF0YTogW10sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgZGVwdE5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlrabpmaLlkI3np7AnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog5omT5byA5by55qGGCiAgICAgKiBAcGFyYW0gdHlwZQogICAgICogQHBhcmFtIHJvdwogICAgICovCiAgICBvcGVuRGlhbG9nKHR5cGUsIHJvdykgewogICAgICBpZiAodHlwZSA9PT0gJ2VkaXQnKSB7CiAgICAgICAgdGhpcy5ydWxlRm9ybSA9IHsKICAgICAgICAgIC4uLnJvdwogICAgICAgIH07CiAgICAgICAgaWYgKHRoaXMucnVsZUZvcm0uaXNMaW5rICE9IG51bGwpIHRoaXMuaXNMaW5rRmxhZyA9IHRydWU7CiAgICAgICAgdGhpcy5kaWFsb2cudGl0bGUgPSAn5L+u5pS55a2m6ZmiJzsKICAgICAgICB0aGlzLmRpYWxvZy5zdWJtaXRUeHQgPSAn5L+uIOaUuSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5ydWxlRm9ybSA9IHsKICAgICAgICAgIG1lbnVUeXBlOiAwCiAgICAgICAgfTsKICAgICAgICBpZiAocm93ICE9PSAwKSB7CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtLnBhcmVudElkID0gcm93LmlkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtLnBhcmVudElkID0gMDsKICAgICAgICB9CiAgICAgICAgdGhpcy5ydWxlRm9ybS5zdGF0dXMgPSB0cnVlOwogICAgICAgIHRoaXMuZGlhbG9nLnRpdGxlID0gJ+aWsOWinuWtpumZoic7CiAgICAgICAgdGhpcy5kaWFsb2cuc3VibWl0VHh0ID0gJ+aWsCDlop4nOwogICAgICB9CiAgICAgIHRoaXMuZGlhbG9nLnR5cGUgPSB0eXBlOwogICAgICB0aGlzLmRpYWxvZy5pc1Nob3dEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIC8qKgogICAgICog5YWz6Zet5by55qGGCiAgICAgKi8KICAgIG9uQ2FuY2VsKCkgewogICAgICB0aGlzLmRpYWxvZy5pc1Nob3dEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kcmVmcy5kZXB0RGlhbG9nRm9ybVJlZi5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIC8qKgogICAgICog5paw5aKeL+S/ruaUuSAg5L+d5a2YCiAgICAgKiBAcGFyYW0gZmxhZwogICAgICovCiAgICBvblN1Ym1pdChmbGFnKSB7CiAgICAgIHRoaXMuJHJlZnNbImRlcHREaWFsb2dGb3JtUmVmIl0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKGZsYWcgPT09ICdlZGl0JykgewogICAgICAgICAgICB1cGRhdGVEZXB0KHRoaXMucnVsZUZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgTWVzc2FnZS5zdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3JlZnJlc2gnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWRkRGVwdCh0aGlzLnJ1bGVGb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgIE1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdyZWZyZXNoJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMub25DYW5jZWwoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["Message","addDept","updateDept","name","data","dialog","isShowDialog","type","title","submitTxt","isLinkFlag","ruleForm","deptData","rules","deptName","required","message","trigger","methods","openDialog","row","isLink","menuType","parentId","id","status","onCancel","$refs","deptDialogFormRef","resetFields","onSubmit","flag","validate","valid","then","res","code","success","$emit"],"sources":["src/views/system/dept/dialog.vue"],"sourcesContent":["<template>\n  <div class=\"system-menu-dialog-container\">\n    <el-dialog :title=\"dialog.title\"\n               :visible.sync=\"dialog.isShowDialog\"\n               :close-on-click-modal=\"false\"\n               width=\"769px\">\n      <el-form ref=\"deptDialogFormRef\" :model=\"ruleForm\" :rules=\"rules\" size=\"default\" label-width=\"100px\">\n        <el-row :gutter=\"35\">\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" class=\"mb20\">\n            <el-form-item label=\"上级学院\">\n              <el-cascader\n                :options=\"deptData\"\n                :props=\"{ checkStrictly: true, value: 'id', label: 'deptName' ,emitPath: false}\"\n                placeholder=\"请选择上级学院\"\n                clearable\n                class=\"w100\"\n                v-model=\"ruleForm.parentId\"\n              >\n                <template #default=\"{ node, data }\">\n                  <span>{{ data.deptName }}</span>\n                  <span v-if=\"!node.isLeaf\"> ({{ data.children.length }}) </span>\n                </template>\n              </el-cascader>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" class=\"mb20\">\n            <el-form-item label=\"学院名称\" prop=\"deptName\">\n              <el-input v-model=\"ruleForm.deptName\" placeholder=\"请输入学院名称\" clearable></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" class=\"mb20\">\n            <el-form-item label=\"负责人\" prop=\"leader\">\n              <el-input v-model=\"ruleForm.leader\" placeholder=\"请输入负责人\" clearable></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" class=\"mb20\">\n            <el-form-item label=\"联系电话\" prop=\"phone\">\n              <el-input v-model=\"ruleForm.phone\" placeholder=\"请输入联系电话\" clearable></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" class=\"mb20\">\n            <el-form-item label=\"邮箱地址\" prop=\"email\">\n              <el-input v-model=\"ruleForm.email\" placeholder=\"请输入邮箱地址\" clearable></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" class=\"mb20\">\n            <el-form-item label=\"学院状态\">\n              <el-switch\n                v-model=\"ruleForm.status\"\n                active-color=\"#13ce66\"\n                inactive-color=\"#ff4949\"\n                active-text=\"正常\"\n                inactive-text=\"停用\">\n              </el-switch>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" class=\"mb20\">\n            <el-form-item label=\"排序\">\n              <el-input-number v-model=\"ruleForm.sortId\" controls-position=\"right\" placeholder=\"请输入排序\"/>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <template #footer>\n\t\t\t\t<span class=\"dialog-footer\">\n\t\t\t\t\t<el-button @click=\"onCancel\" size=\"default\">取 消</el-button>\n\t\t\t\t\t<el-button type=\"primary\" @click=\"onSubmit(dialog.type)\" size=\"default\">{{ dialog.submitTxt }}</el-button>\n\t\t\t\t</span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {Message} from \"element-ui\";\nimport {addDept, updateDept} from \"@/api/system/dept\";\n\nexport default {\n  name: 'DeptDialog',\n  data() {\n    return {\n      dialog: {\n        isShowDialog: false,\n        type: '',\n        title: '',\n        submitTxt: '',\n      },\n      isLinkFlag: false,\n      ruleForm: {},\n      deptData: [],\n      rules: {deptName: [{required: true, message: '请输入学院名称', trigger: 'blur'}]}\n    };\n  },\n  methods: {\n    /**\n     * 打开弹框\n     * @param type\n     * @param row\n     */\n    openDialog(type, row) {\n      if (type === 'edit') {\n        this.ruleForm = {...row}\n        if (this.ruleForm.isLink != null) this.isLinkFlag = true;\n        this.dialog.title = '修改学院';\n        this.dialog.submitTxt = '修 改';\n      } else {\n        this.ruleForm = {\n          menuType: 0\n        }\n        if (row !== 0) {\n          this.ruleForm.parentId = row.id;\n        } else {\n          this.ruleForm.parentId = 0;\n        }\n        this.ruleForm.status = true;\n        this.dialog.title = '新增学院';\n        this.dialog.submitTxt = '新 增';\n      }\n      this.dialog.type = type\n      this.dialog.isShowDialog = true;\n    },\n    /**\n     * 关闭弹框\n     */\n    onCancel() {\n      this.dialog.isShowDialog = false;\n      this.$refs.deptDialogFormRef.resetFields()\n    },\n    /**\n     * 新增/修改  保存\n     * @param flag\n     */\n    onSubmit(flag) {\n      this.$refs[\"deptDialogFormRef\"].validate(valid => {\n        if (valid) {\n          if (flag === 'edit') {\n            updateDept(this.ruleForm).then(res => {\n              if (res.code === 200) {\n                Message.success(res.message);\n                this.$emit('refresh');\n              }\n            })\n          } else {\n            addDept(this.ruleForm).then(res => {\n              if (res.code === 200) {\n                Message.success(res.message);\n                this.$emit('refresh');\n              }\n            })\n          }\n          this.onCancel();\n        }\n      })\n    }\n  }\n};\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA,SAAAA,OAAA;AACA,SAAAC,OAAA,EAAAC,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,MAAA;QACAC,YAAA;QACAC,IAAA;QACAC,KAAA;QACAC,SAAA;MACA;MACAC,UAAA;MACAC,QAAA;MACAC,QAAA;MACAC,KAAA;QAAAC,QAAA;UAAAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAAA;IACA;EACA;EACAC,OAAA;IACA;AACA;AACA;AACA;AACA;IACAC,WAAAZ,IAAA,EAAAa,GAAA;MACA,IAAAb,IAAA;QACA,KAAAI,QAAA;UAAA,GAAAS;QAAA;QACA,SAAAT,QAAA,CAAAU,MAAA,eAAAX,UAAA;QACA,KAAAL,MAAA,CAAAG,KAAA;QACA,KAAAH,MAAA,CAAAI,SAAA;MACA;QACA,KAAAE,QAAA;UACAW,QAAA;QACA;QACA,IAAAF,GAAA;UACA,KAAAT,QAAA,CAAAY,QAAA,GAAAH,GAAA,CAAAI,EAAA;QACA;UACA,KAAAb,QAAA,CAAAY,QAAA;QACA;QACA,KAAAZ,QAAA,CAAAc,MAAA;QACA,KAAApB,MAAA,CAAAG,KAAA;QACA,KAAAH,MAAA,CAAAI,SAAA;MACA;MACA,KAAAJ,MAAA,CAAAE,IAAA,GAAAA,IAAA;MACA,KAAAF,MAAA,CAAAC,YAAA;IACA;IACA;AACA;AACA;IACAoB,SAAA;MACA,KAAArB,MAAA,CAAAC,YAAA;MACA,KAAAqB,KAAA,CAAAC,iBAAA,CAAAC,WAAA;IACA;IACA;AACA;AACA;AACA;IACAC,SAAAC,IAAA;MACA,KAAAJ,KAAA,sBAAAK,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,IAAAF,IAAA;YACA7B,UAAA,MAAAS,QAAA,EAAAuB,IAAA,CAAAC,GAAA;cACA,IAAAA,GAAA,CAAAC,IAAA;gBACApC,OAAA,CAAAqC,OAAA,CAAAF,GAAA,CAAAnB,OAAA;gBACA,KAAAsB,KAAA;cACA;YACA;UACA;YACArC,OAAA,MAAAU,QAAA,EAAAuB,IAAA,CAAAC,GAAA;cACA,IAAAA,GAAA,CAAAC,IAAA;gBACApC,OAAA,CAAAqC,OAAA,CAAAF,GAAA,CAAAnB,OAAA;gBACA,KAAAsB,KAAA;cACA;YACA;UACA;UACA,KAAAZ,QAAA;QACA;MACA;IACA;EACA;AACA"}]}