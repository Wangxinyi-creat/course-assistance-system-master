{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\dict\\dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\dict\\dialog.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\babel.config.js","mtime":1715789491216},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBhZGREaWN0LCB1cGRhdGVEaWN0IH0gZnJvbSAiQC9hcGkvc3lzdGVtL2RpY3QiOwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC11aSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGljdERpYWxvZyIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogewogICAgICAgIGlzU2hvd0RpYWxvZzogZmFsc2UsCiAgICAgICAgdHlwZTogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIHN1Ym1pdFR4dDogJycKICAgICAgfSwKICAgICAgcnVsZUZvcm06IHsKICAgICAgICBkaWN0VHlwZTogewogICAgICAgICAgZGljdE5hbWU6ICcnLAogICAgICAgICAgLy8g5a2X5YW45ZCN56ewCiAgICAgICAgICBkaWN0VHlwZTogJycsCiAgICAgICAgICAvL+Wtl+WFuOexu+WeiwogICAgICAgICAgc3RhdHVzOiB0cnVlLAogICAgICAgICAgLy8g5a2X5YW454q25oCBCiAgICAgICAgICByZW1hcms6ICcnIC8vIOWtl+WFuOaPj+i/sAogICAgICAgIH0sCgogICAgICAgIGRpY3REYXRhTGlzdDogW3sKICAgICAgICAgIGlkOiAnbnVtYmVyJywKICAgICAgICAgIGRpY3RMYWJlbDogJycsCiAgICAgICAgICBkaWN0VmFsdWU6ICcnCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog5omT5byA5by55qGGCiAgICAgKiBAcGFyYW0gdHlwZQogICAgICogQHBhcmFtIHJvdwogICAgICovCiAgICBvcGVuRGlhbG9nKHR5cGUsIHJvdykgewogICAgICBpZiAodHlwZSA9PT0gJ2VkaXQnKSB7CiAgICAgICAgdGhpcy5ydWxlRm9ybS5kaWN0VHlwZSA9IHsKICAgICAgICAgIC4uLnJvdwogICAgICAgIH07CiAgICAgICAgdGhpcy5ydWxlRm9ybS5kaWN0VHlwZS5vbGREaWN0VHlwZSA9IHJvdy5kaWN0VHlwZTsKICAgICAgICB0aGlzLnJ1bGVGb3JtLmRpY3REYXRhTGlzdCA9IHJvdy5kaWN0RGF0YUxpc3Q7CiAgICAgICAgdGhpcy5kaWFsb2cudGl0bGUgPSAn5L+u5pS55a2X5YW4JzsKICAgICAgICB0aGlzLmRpYWxvZy5zdWJtaXRUeHQgPSAn5L+uIOaUuSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5ydWxlRm9ybSA9IHsKICAgICAgICAgIGRpY3RUeXBlOiB7CiAgICAgICAgICAgIGRpY3ROYW1lOiAnJywKICAgICAgICAgICAgZGljdFR5cGU6ICcnLAogICAgICAgICAgICBzdGF0dXM6IHRydWUsCiAgICAgICAgICAgIHJlbWFyazogJycKICAgICAgICAgIH0sCiAgICAgICAgICBkaWN0RGF0YUxpc3Q6IFt7CiAgICAgICAgICAgIGlkOiAnbnVtYmVyJywKICAgICAgICAgICAgZGljdExhYmVsOiAnJywKICAgICAgICAgICAgZGljdFZhbHVlOiAnJwogICAgICAgICAgfV0KICAgICAgICB9OwogICAgICAgIHRoaXMuZGlhbG9nLnRpdGxlID0gJ+aWsOWinuWtl+WFuCc7CiAgICAgICAgdGhpcy5kaWFsb2cuc3VibWl0VHh0ID0gJ+aWsCDlop4nOwogICAgICB9CiAgICAgIHRoaXMuZGlhbG9nLnR5cGUgPSB0eXBlOwogICAgICB0aGlzLmRpYWxvZy5pc1Nob3dEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIC8vIOWPlua2iAogICAgb25DYW5jZWwoKSB7CiAgICAgIHRoaXMuZGlhbG9nLmlzU2hvd0RpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOaPkOS6pAogICAgb25TdWJtaXQoKSB7CiAgICAgIGlmICh0aGlzLnJ1bGVGb3JtLmRpY3RUeXBlLmRpY3ROYW1lID09PSAnJykgewogICAgICAgIE1lc3NhZ2UuZXJyb3IoIuivt+i+k+WFpeWtl+WFuOWQjeensCIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5ydWxlRm9ybS5kaWN0VHlwZS5kaWN0VHlwZSA9PT0gJycpIHsKICAgICAgICBNZXNzYWdlLmVycm9yKCLor7fovpPlhaXlrZflhbjnsbvlnosiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZGlhbG9nLnR5cGUgPT09ICdlZGl0JykgewogICAgICAgIHVwZGF0ZURpY3QodGhpcy5ydWxlRm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgTWVzc2FnZS5zdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgncmVmcmVzaCcpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGFkZERpY3QodGhpcy5ydWxlRm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgTWVzc2FnZS5zdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgncmVmcmVzaCcpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMub25DYW5jZWwoKTsKICAgIH0sCiAgICAvLyDmlrDlop7ooYwKICAgIG9uQWRkUm93KCkgewogICAgICB0aGlzLnJ1bGVGb3JtLmRpY3REYXRhTGlzdC5wdXNoKHsKICAgICAgICBpZDogTWF0aC5yYW5kb20oKSwKICAgICAgICBkaWN0TGFiZWw6ICcnLAogICAgICAgIGRpY3RWYWx1ZTogJycKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6Zmk6KGMCiAgICBvbkRlbFJvdyhrKSB7CiAgICAgIHRoaXMucnVsZUZvcm0uZGljdERhdGFMaXN0LnNwbGljZShrLCAxKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["addDict","updateDict","Message","name","data","dialog","isShowDialog","type","title","submitTxt","ruleForm","dictType","dictName","status","remark","dictDataList","id","dictLabel","dictValue","methods","openDialog","row","oldDictType","onCancel","onSubmit","error","then","res","code","success","message","$emit","onAddRow","push","Math","random","onDelRow","k","splice"],"sources":["src/views/system/dict/dialog.vue"],"sourcesContent":["<template>\n  <div class=\"system-dic-dialog-container\">\n    <el-dialog :title=\"dialog.title\"\n               :visible.sync=\"dialog.isShowDialog\"\n               :close-on-click-modal=\"false\"\n               width=\"769px\">\n      <el-form ref=\"dicDialogFormRef\" :model=\"ruleForm\" size=\"default\" label-width=\"90px\">\n        <el-row :gutter=\"35\">\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n            <el-form-item label=\"字典名称\">\n              <el-input v-model=\"ruleForm.dictType.dictName\" placeholder=\"请输入字典名称\" clearable></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n            <el-form-item label=\"字典类型\">\n              <el-input v-model=\"ruleForm.dictType.dictType\" placeholder=\"请输入字典类型\"\n                        clearable></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" class=\"mb20\">\n            <el-form-item label=\"字典状态\">\n              <el-switch v-model=\"ruleForm.dictType.status\" inline-prompt active-text=\"启\"\n                         inactive-text=\"禁\"></el-switch>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" class=\"mb20\">\n            <el-row :gutter=\"35\" v-for=\"(v, k) in ruleForm.dictDataList\" :key=\"k\">\n              <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n                <el-form-item>\n                  <template #label>\n                    <el-button type=\"primary\" circle size=\"small\" @click=\"onAddRow\" v-if=\"k === 0\">\n                      <el-icon class=\"el-icon-plus\"></el-icon>\n                    </el-button>\n                    <el-button type=\"danger\" circle size=\"small\" @click=\"onDelRow(k)\" v-else>\n                      <el-icon class=\"el-icon-delete\"></el-icon>\n                    </el-button>\n                    <span class=\"ml10\">标签</span>\n                  </template>\n                  <el-input v-model=\"v.dictLabel\" style=\"width: 100%\" placeholder=\"请输入字典标签\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n                <el-form-item label=\"属性值\">\n                  <el-input v-model=\"v.dictValue\" style=\"width: 100%\" placeholder=\"请输入属性值\"></el-input>\n                </el-form-item>\n              </el-col>\n            </el-row>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" class=\"mb20\">\n            <el-form-item label=\"字典描述\">\n              <el-input v-model=\"ruleForm.dictType.remark\" type=\"textarea\" placeholder=\"请输入字典描述\"\n                        maxlength=\"150\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <template #footer>\n\t\t\t\t<span class=\"dialog-footer\">\n\t\t\t\t\t<el-button @click=\"onCancel\" size=\"default\">取 消</el-button>\n\t\t\t\t\t<el-button type=\"primary\" @click=\"onSubmit\" size=\"default\">{{ dialog.submitTxt }}</el-button>\n\t\t\t\t</span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n\n<script>\nimport {addDict, updateDict} from \"@/api/system/dict\";\nimport {Message} from \"element-ui\";\n\nexport default {\n  name: \"DictDialog\",\n  data() {\n    return {\n      dialog: {\n        isShowDialog: false,\n        type: '',\n        title: '',\n        submitTxt: '',\n      },\n      ruleForm: {\n        dictType: {\n          dictName: '', // 字典名称\n          dictType: '',//字典类型\n          status: true, // 字典状态\n          remark: '', // 字典描述\n        },\n        dictDataList: [\n          {\n            id: 'number',\n            dictLabel: '',\n            dictValue: ''\n          }\n        ]\n      },\n    }\n\n  },\n  methods: {\n    /**\n     * 打开弹框\n     * @param type\n     * @param row\n     */\n    openDialog(type, row) {\n      if (type === 'edit') {\n        this.ruleForm.dictType = {...row}\n        this.ruleForm.dictType.oldDictType = row.dictType\n        this.ruleForm.dictDataList = row.dictDataList\n        this.dialog.title = '修改字典';\n        this.dialog.submitTxt = '修 改';\n      } else {\n        this.ruleForm = {\n          dictType: {\n            dictName: '',\n            dictType: '',\n            status: true,\n            remark: '',\n          },\n          dictDataList: [\n            {\n              id: 'number',\n              dictLabel: '',\n              dictValue: ''\n            }\n          ]\n        }\n        this.dialog.title = '新增字典';\n        this.dialog.submitTxt = '新 增';\n      }\n      this.dialog.type = type\n      this.dialog.isShowDialog = true;\n    },\n    // 取消\n    onCancel() {\n      this.dialog.isShowDialog = false;\n    },\n    // 提交\n    onSubmit() {\n      if (this.ruleForm.dictType.dictName === '') {\n        Message.error(\"请输入字典名称\")\n        return\n      }\n      if (this.ruleForm.dictType.dictType === '') {\n        Message.error(\"请输入字典类型\")\n        return\n      }\n      if (this.dialog.type === 'edit') {\n        updateDict(this.ruleForm).then(res => {\n          if (res.code === 200) {\n            Message.success(res.message);\n            this.$emit('refresh');\n          }\n        })\n      } else {\n        addDict(this.ruleForm).then(res => {\n          if (res.code === 200) {\n            Message.success(res.message);\n            this.$emit('refresh');\n          }\n        })\n      }\n      this.onCancel()\n    },\n    // 新增行\n    onAddRow() {\n      this.ruleForm.dictDataList.push({\n        id: Math.random(),\n        dictLabel: '',\n        dictValue: '',\n      });\n    },\n    // 删除行\n    onDelRow(k) {\n      this.ruleForm.dictDataList.splice(k, 1);\n    },\n  }\n}\n</script>\n\n<style>\n/* 弹出框滚动条 */\n/* 设置滚动条的样式 */\n/**解决了滚动条之间发生错位的现象 */\n.el-dialog ::-webkit-scrollbar {\n  width: 5px !important;\n  height: 10px !important;\n  border-radius: 5px;\n}\n\n.el-dialog ::-webkit-scrollbar-thumb {\n  border-radius: 5px;\n  -webkit-box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.2);\n  /* 滚动条的颜色 */\n  background-color: #e4e4e4;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,SAAAA,OAAA,EAAAC,UAAA;AACA,SAAAC,OAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,MAAA;QACAC,YAAA;QACAC,IAAA;QACAC,KAAA;QACAC,SAAA;MACA;MACAC,QAAA;QACAC,QAAA;UACAC,QAAA;UAAA;UACAD,QAAA;UAAA;UACAE,MAAA;UAAA;UACAC,MAAA;QACA;;QACAC,YAAA,GACA;UACAC,EAAA;UACAC,SAAA;UACAC,SAAA;QACA;MAEA;IACA;EAEA;EACAC,OAAA;IACA;AACA;AACA;AACA;AACA;IACAC,WAAAb,IAAA,EAAAc,GAAA;MACA,IAAAd,IAAA;QACA,KAAAG,QAAA,CAAAC,QAAA;UAAA,GAAAU;QAAA;QACA,KAAAX,QAAA,CAAAC,QAAA,CAAAW,WAAA,GAAAD,GAAA,CAAAV,QAAA;QACA,KAAAD,QAAA,CAAAK,YAAA,GAAAM,GAAA,CAAAN,YAAA;QACA,KAAAV,MAAA,CAAAG,KAAA;QACA,KAAAH,MAAA,CAAAI,SAAA;MACA;QACA,KAAAC,QAAA;UACAC,QAAA;YACAC,QAAA;YACAD,QAAA;YACAE,MAAA;YACAC,MAAA;UACA;UACAC,YAAA,GACA;YACAC,EAAA;YACAC,SAAA;YACAC,SAAA;UACA;QAEA;QACA,KAAAb,MAAA,CAAAG,KAAA;QACA,KAAAH,MAAA,CAAAI,SAAA;MACA;MACA,KAAAJ,MAAA,CAAAE,IAAA,GAAAA,IAAA;MACA,KAAAF,MAAA,CAAAC,YAAA;IACA;IACA;IACAiB,SAAA;MACA,KAAAlB,MAAA,CAAAC,YAAA;IACA;IACA;IACAkB,SAAA;MACA,SAAAd,QAAA,CAAAC,QAAA,CAAAC,QAAA;QACAV,OAAA,CAAAuB,KAAA;QACA;MACA;MACA,SAAAf,QAAA,CAAAC,QAAA,CAAAA,QAAA;QACAT,OAAA,CAAAuB,KAAA;QACA;MACA;MACA,SAAApB,MAAA,CAAAE,IAAA;QACAN,UAAA,MAAAS,QAAA,EAAAgB,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAC,IAAA;YACA1B,OAAA,CAAA2B,OAAA,CAAAF,GAAA,CAAAG,OAAA;YACA,KAAAC,KAAA;UACA;QACA;MACA;QACA/B,OAAA,MAAAU,QAAA,EAAAgB,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAC,IAAA;YACA1B,OAAA,CAAA2B,OAAA,CAAAF,GAAA,CAAAG,OAAA;YACA,KAAAC,KAAA;UACA;QACA;MACA;MACA,KAAAR,QAAA;IACA;IACA;IACAS,SAAA;MACA,KAAAtB,QAAA,CAAAK,YAAA,CAAAkB,IAAA;QACAjB,EAAA,EAAAkB,IAAA,CAAAC,MAAA;QACAlB,SAAA;QACAC,SAAA;MACA;IACA;IACA;IACAkB,SAAAC,CAAA;MACA,KAAA3B,QAAA,CAAAK,YAAA,CAAAuB,MAAA,CAAAD,CAAA;IACA;EACA;AACA"}]}