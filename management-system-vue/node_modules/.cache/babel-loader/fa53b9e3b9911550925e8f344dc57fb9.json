{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navBars\\topBar\\search.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navBars\\topBar\\search.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\babel.config.js","mtime":1715789491216},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xheW91dEJyZWFkY3J1bWJTZWFyY2gnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Nob3dTZWFyY2g6IGZhbHNlLAogICAgICBtZW51UXVlcnk6ICcnLAogICAgICB0YWdzVmlld0xpc3Q6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5pCc57Si5by556qX5omT5byACiAgICBvcGVuU2VhcmNoKCkgewogICAgICB0aGlzLm1lbnVRdWVyeSA9ICcnOwogICAgICB0aGlzLmlzU2hvd1NlYXJjaCA9IHRydWU7CiAgICAgIHRoaXMuaW5pdFRhZ2VWaWV3KCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzLmxheW91dE1lbnVBdXRvY29tcGxldGVSZWYuZm9jdXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pCc57Si5by556qX5YWz6ZetCiAgICBjbG9zZVNlYXJjaCgpIHsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5pc1Nob3dTZWFyY2ggPSBmYWxzZTsKICAgICAgfSwgMTUwKTsKICAgIH0sCiAgICAvLyDoj5zljZXmkJzntKLmlbDmja7ov4fmu6QKICAgIG1lbnVTZWFyY2gocXVlcnlTdHJpbmcsIGNiKSB7CiAgICAgIGxldCByZXN1bHRzID0gcXVlcnlTdHJpbmcgPyB0aGlzLnRhZ3NWaWV3TGlzdC5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXIocXVlcnlTdHJpbmcpKSA6IHRoaXMudGFnc1ZpZXdMaXN0OwogICAgICBjYihyZXN1bHRzKTsKICAgIH0sCiAgICAvLyDoj5zljZXmkJzntKLov4fmu6QKICAgIGNyZWF0ZUZpbHRlcihxdWVyeVN0cmluZykgewogICAgICByZXR1cm4gcmVzdGF1cmFudCA9PiB7CiAgICAgICAgcmV0dXJuIHJlc3RhdXJhbnQucGF0aC50b0xvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnlTdHJpbmcudG9Mb3dlckNhc2UoKSkgPiAtMSB8fCByZXN0YXVyYW50Lm1ldGEudGl0bGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHF1ZXJ5U3RyaW5nLnRvTG93ZXJDYXNlKCkpID4gLTEgfHwgcmVzdGF1cmFudC5tZXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihxdWVyeVN0cmluZy50b0xvd2VyQ2FzZSgpKSA+IC0xOwogICAgICB9OwogICAgfSwKICAgIC8vIOWIneWni+WMluiPnOWNleaVsOaNrgogICAgaW5pdFRhZ2VWaWV3KCkgewogICAgICBpZiAodGhpcy50YWdzVmlld0xpc3QubGVuZ3RoID4gMCkgcmV0dXJuIGZhbHNlOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS50YWdzVmlld1JvdXRlcy50YWdzVmlld1JvdXRlcy5tYXAodiA9PiB7CiAgICAgICAgaWYgKCF2Lm1ldGEuaXNIaWRlKSB0aGlzLnRhZ3NWaWV3TGlzdC5wdXNoKHsKICAgICAgICAgIC4uLnYKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5b2T5YmN6I+c5Y2V6YCJ5Lit5pe2CiAgICBvbkhhbmRsZVNlbGVjdChpdGVtKSB7CiAgICAgIGxldCB7CiAgICAgICAgcGF0aCwKICAgICAgICByZWRpcmVjdAogICAgICB9ID0gaXRlbTsKICAgICAgaWYgKGl0ZW0ubWV0YS5pc0xpbmsgJiYgIWl0ZW0ubWV0YS5pc0lmcmFtZSkgd2luZG93Lm9wZW4oaXRlbS5tZXRhLmlzTGluayk7ZWxzZSBpZiAocmVkaXJlY3QpIHRoaXMuJHJvdXRlci5wdXNoKHJlZGlyZWN0KTtlbHNlIHRoaXMuJHJvdXRlci5wdXNoKHBhdGgpOwogICAgICB0aGlzLmNsb3NlU2VhcmNoKCk7CiAgICB9LAogICAgLy8gaW5wdXQg5aSx5Y6754Sm54K55pe2CiAgICBvblNlYXJjaEJsdXIoKSB7CiAgICAgIHRoaXMuY2xvc2VTZWFyY2goKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["name","data","isShowSearch","menuQuery","tagsViewList","methods","openSearch","initTageView","$nextTick","$refs","layoutMenuAutocompleteRef","focus","closeSearch","setTimeout","menuSearch","queryString","cb","results","filter","createFilter","restaurant","path","toLowerCase","indexOf","meta","title","length","$store","state","tagsViewRoutes","map","v","isHide","push","onHandleSelect","item","redirect","isLink","isIframe","window","open","$router","onSearchBlur"],"sources":["src/layout/navBars/topBar/search.vue"],"sourcesContent":["<template>\n  <div class=\"layout-search-dialog\">\n    <el-dialog :visible.sync=\"isShowSearch\" width=\"300px\" destroy-on-close :modal=\"false\" fullscreen\n               :show-close=\"false\">\n      <el-autocomplete\n          v-model=\"menuQuery\"\n          :fetch-suggestions=\"menuSearch\"\n          :placeholder=\"'菜单搜索：支持中文、路由路径'\"\n          prefix-icon=\"el-icon-search\"\n          ref=\"layoutMenuAutocompleteRef\"\n          @select=\"onHandleSelect\"\n          @blur=\"onSearchBlur\"\n      >\n        <template slot-scope=\"{ item }\">\n          <div><i :class=\"item.meta.icon\" class=\"mr10\"></i>{{ item.meta.title }}</div>\n        </template>\n      </el-autocomplete>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'layoutBreadcrumbSearch',\n  data() {\n    return {\n      isShowSearch: false,\n      menuQuery: '',\n      tagsViewList: [],\n    };\n  },\n  methods: {\n    // 搜索弹窗打开\n    openSearch() {\n      this.menuQuery = '';\n      this.isShowSearch = true;\n      this.initTageView();\n      this.$nextTick(() => {\n        this.$refs.layoutMenuAutocompleteRef.focus();\n      });\n    },\n    // 搜索弹窗关闭\n    closeSearch() {\n      setTimeout(() => {\n        this.isShowSearch = false;\n      }, 150);\n    },\n    // 菜单搜索数据过滤\n    menuSearch(queryString, cb) {\n      let results = queryString ? this.tagsViewList.filter(this.createFilter(queryString)) : this.tagsViewList;\n      cb(results);\n    },\n    // 菜单搜索过滤\n    createFilter(queryString) {\n      return (restaurant) => {\n        return (\n            restaurant.path.toLowerCase().indexOf(queryString.toLowerCase()) > -1 ||\n            restaurant.meta.title.toLowerCase().indexOf(queryString.toLowerCase()) > -1 ||\n            restaurant.meta.title.toLowerCase().indexOf(queryString.toLowerCase()) > -1\n        );\n      };\n    },\n    // 初始化菜单数据\n    initTageView() {\n      if (this.tagsViewList.length > 0) return false;\n      this.$store.state.tagsViewRoutes.tagsViewRoutes.map((v) => {\n        if (!v.meta.isHide) this.tagsViewList.push({...v});\n      });\n    },\n    // 当前菜单选中时\n    onHandleSelect(item) {\n      let {path, redirect} = item;\n      if (item.meta.isLink && !item.meta.isIframe) window.open(item.meta.isLink);\n      else if (redirect) this.$router.push(redirect);\n      else this.$router.push(path);\n      this.closeSearch();\n    },\n    // input 失去焦点时\n    onSearchBlur() {\n      this.closeSearch();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.layout-search-dialog {\n  ::v-deep .el-dialog {\n    box-shadow: unset !important;\n    border-radius: 0 !important;\n    background: rgba(0, 0, 0, 0.5);\n  }\n\n  ::v-deep .el-autocomplete {\n    width: 560px;\n    position: absolute;\n    top: 100px;\n    left: 50%;\n    transform: translateX(-50%);\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAsBA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,YAAA;MACAC,SAAA;MACAC,YAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,WAAA;MACA,KAAAH,SAAA;MACA,KAAAD,YAAA;MACA,KAAAK,YAAA;MACA,KAAAC,SAAA;QACA,KAAAC,KAAA,CAAAC,yBAAA,CAAAC,KAAA;MACA;IACA;IACA;IACAC,YAAA;MACAC,UAAA;QACA,KAAAX,YAAA;MACA;IACA;IACA;IACAY,WAAAC,WAAA,EAAAC,EAAA;MACA,IAAAC,OAAA,GAAAF,WAAA,QAAAX,YAAA,CAAAc,MAAA,MAAAC,YAAA,CAAAJ,WAAA,UAAAX,YAAA;MACAY,EAAA,CAAAC,OAAA;IACA;IACA;IACAE,aAAAJ,WAAA;MACA,OAAAK,UAAA;QACA,OACAA,UAAA,CAAAC,IAAA,CAAAC,WAAA,GAAAC,OAAA,CAAAR,WAAA,CAAAO,WAAA,YACAF,UAAA,CAAAI,IAAA,CAAAC,KAAA,CAAAH,WAAA,GAAAC,OAAA,CAAAR,WAAA,CAAAO,WAAA,YACAF,UAAA,CAAAI,IAAA,CAAAC,KAAA,CAAAH,WAAA,GAAAC,OAAA,CAAAR,WAAA,CAAAO,WAAA;MAEA;IACA;IACA;IACAf,aAAA;MACA,SAAAH,YAAA,CAAAsB,MAAA;MACA,KAAAC,MAAA,CAAAC,KAAA,CAAAC,cAAA,CAAAA,cAAA,CAAAC,GAAA,CAAAC,CAAA;QACA,KAAAA,CAAA,CAAAP,IAAA,CAAAQ,MAAA,OAAA5B,YAAA,CAAA6B,IAAA;UAAA,GAAAF;QAAA;MACA;IACA;IACA;IACAG,eAAAC,IAAA;MACA;QAAAd,IAAA;QAAAe;MAAA,IAAAD,IAAA;MACA,IAAAA,IAAA,CAAAX,IAAA,CAAAa,MAAA,KAAAF,IAAA,CAAAX,IAAA,CAAAc,QAAA,EAAAC,MAAA,CAAAC,IAAA,CAAAL,IAAA,CAAAX,IAAA,CAAAa,MAAA,OACA,IAAAD,QAAA,OAAAK,OAAA,CAAAR,IAAA,CAAAG,QAAA,OACA,KAAAK,OAAA,CAAAR,IAAA,CAAAZ,IAAA;MACA,KAAAT,WAAA;IACA;IACA;IACA8B,aAAA;MACA,KAAA9B,WAAA;IACA;EACA;AACA"}]}