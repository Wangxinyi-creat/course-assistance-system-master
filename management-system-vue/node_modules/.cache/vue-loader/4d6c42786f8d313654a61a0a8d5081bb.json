{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navMenu\\horizontal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navMenu\\horizontal.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTdWJJdGVtIGZyb20gJ0AvbGF5b3V0L25hdk1lbnUvc3ViSXRlbS52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICduYXZNZW51SG9yaXpvbnRhbCcsCiAgY29tcG9uZW50czoge1N1Ykl0ZW19LAogIHByb3BzOiB7CiAgICBtZW51TGlzdDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10sCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRlZmF1bHRBY3RpdmU6IG51bGwsCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdEVsTWVudU9mZnNldExlZnQoKTsKICAgIHRoaXMuc2V0Q3VycmVudFJvdXRlckhpZ2hsaWdodCh0aGlzLiRyb3V0ZS5wYXRoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiuvue9ruaoquWQkea7muWKqOadoeWPr+S7pem8oOagh+a7mui9rua7muWKqAogICAgb25FbE1lbnVIb3Jpem9udGFsU2Nyb2xsKGUpIHsKICAgICAgY29uc3QgZXZlbnREZWx0YSA9IGUud2hlZWxEZWx0YSB8fCAtZS5kZWx0YVkgKiA0MDsKICAgICAgdGhpcy4kcmVmcy5lbE1lbnVIb3Jpem9udGFsU2Nyb2xsUmVmLiRyZWZzLndyYXAuc2Nyb2xsTGVmdCA9IHRoaXMuJHJlZnMuZWxNZW51SG9yaXpvbnRhbFNjcm9sbFJlZi4kcmVmcy53cmFwLnNjcm9sbExlZnQgKyBldmVudERlbHRhIC8gNDsKICAgIH0sCiAgICAvLyDliJ3lp4vljJbmlbDmja7vvIzpobXpnaLliLfmlrDml7bvvIzmu5rliqjmnaHmu5rliqjliLDlr7nlupTkvY3nva4KICAgIGluaXRFbE1lbnVPZmZzZXRMZWZ0KCkgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgbGV0IGVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbC1tZW51LmVsLW1lbnUtLWhvcml6b250YWwgbGkuaXMtYWN0aXZlJyk7CiAgICAgICAgaWYgKCFlbHMpIHJldHVybiBmYWxzZTsKICAgICAgICB0aGlzLiRyZWZzLmVsTWVudUhvcml6b250YWxTY3JvbGxSZWYuJHJlZnMud3JhcC5zY3JvbGxMZWZ0ID0gZWxzLm9mZnNldExlZnQ7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOi3r+eUsei/h+a7pOmAkuW9kuWHveaVsAogICAgZmlsdGVyUm91dGVzRnVuKGFycikgewogICAgICByZXR1cm4gYXJyCiAgICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiAhaXRlbS5pc0hpZGUpCiAgICAgICAgICAubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTsKICAgICAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIGl0ZW0uY2hpbGRyZW4gPSB0aGlzLmZpbHRlclJvdXRlc0Z1bihpdGVtLmNoaWxkcmVuKTsKICAgICAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDkvKDpgIHlvZPliY3lrZDnuqfmlbDmja7liLDoj5zljZXkuK0KICAgIHNldFNlbmRDbGFzc2ljQ2hpbGRyZW4ocGF0aCkgewogICAgICBjb25zdCBjdXJyZW50UGF0aFNwbGl0ID0gcGF0aC5zcGxpdCgnLycpOwogICAgICBsZXQgY3VycmVudERhdGEgPSB7fTsKICAgICAgdGhpcy5maWx0ZXJSb3V0ZXNGdW4odGhpcy5tZW51TGlzdCkubWFwKCh2LCBrKSA9PiB7CiAgICAgICAgaWYgKHYucGF0aCA9PT0gYC8ke2N1cnJlbnRQYXRoU3BsaXRbMV19YCkgewogICAgICAgICAgdlsnayddID0gazsKICAgICAgICAgIGN1cnJlbnREYXRhWydpdGVtJ10gPSBbey4uLnZ9XTsKICAgICAgICAgIGN1cnJlbnREYXRhWydjaGlsZHJlbiddID0gW3suLi52fV07CiAgICAgICAgICBpZiAodi5jaGlsZHJlbikgY3VycmVudERhdGFbJ2NoaWxkcmVuJ10gPSB2LmNoaWxkcmVuOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBjdXJyZW50RGF0YTsKICAgIH0sCiAgICAvLyDoj5zljZXmv4DmtLvlm57osIMKICAgIG9uSG9yaXpvbnRhbFNlbGVjdChwYXRoKSB7CiAgICAgIHRoaXMuYnVzLiRlbWl0KCdzZXRTZW5kQ2xhc3NpY0NoaWxkcmVuJywgdGhpcy5zZXRTZW5kQ2xhc3NpY0NoaWxkcmVuKHBhdGgpKTsKICAgIH0sCiAgICAvLyDorr7nva7pobXpnaLlvZPliY3ot6/nlLHpq5jkuq4KICAgIHNldEN1cnJlbnRSb3V0ZXJIaWdobGlnaHQocGF0aCkgewogICAgICBjb25zdCBjdXJyZW50UGF0aFNwbGl0ID0gcGF0aC5zcGxpdCgnLycpOwogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcubGF5b3V0ID09PSAnY2xhc3NpYycpIHsKICAgICAgICB0aGlzLmRlZmF1bHRBY3RpdmUgPSBgLyR7Y3VycmVudFBhdGhTcGxpdFsxXX1gOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGVmYXVsdEFjdGl2ZSA9IHBhdGg7CiAgICAgIH0KICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgLy8g55uR5ZCs6Lev55Sx55qE5Y+Y5YyWCiAgICAkcm91dGU6IHsKICAgICAgaGFuZGxlcih0bykgewogICAgICAgIHRoaXMuc2V0Q3VycmVudFJvdXRlckhpZ2hsaWdodCh0by5wYXRoKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["horizontal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"horizontal.vue","sourceRoot":"src/layout/navMenu","sourcesContent":["<template>\n  <div class=\"el-menu-horizontal-warp\">\n    <el-scrollbar @wheel.native.prevent=\"onElMenuHorizontalScroll\" ref=\"elMenuHorizontalScrollRef\">\n      <el-menu router :default-active=\"defaultActive\"\n               background-color=\"#545c64\"\n               text-color=\"#fff\"\n               active-text-color=\"#ffd04b\"\n               mode=\"horizontal\"\n               @select=\"onHorizontalSelect\">\n        <template v-for=\"item in menuList\">\n          <el-submenu :index=\"item.path\" v-if=\"item.children && item.children.length > 0\" :key=\"item.path\">\n            <template slot=\"title\">\n              <i :class=\"item.elIcon ? item.elIcon : ''\"></i>\n              <span>{{ item.menuName }}</span>\n            </template>\n            <SubItem :chil=\"item.children\"/>\n          </el-submenu>\n          <template v-else>\n            <el-menu-item :index=\"item.path\" :key=\"item.path\">\n              <template slot=\"title\" v-if=\"!item.isLink || (item.isLink && item.isIframe)\">\n                <i :class=\"item.elIcon ? item.elIcon : ''\"></i>\n                {{ item.menuName }}\n              </template>\n              <template slot=\"title\" v-else>\n                <a :href=\"item.isLink\" target=\"_blank\">\n                  <i :class=\"item.elIcon ? item.elIcon : ''\"></i>\n                  {{ item.menuName }}\n                </a>\n              </template>\n            </el-menu-item>\n          </template>\n        </template>\n      </el-menu>\n    </el-scrollbar>\n  </div>\n</template>\n\n<script>\nimport SubItem from '@/layout/navMenu/subItem.vue';\n\nexport default {\n  name: 'navMenuHorizontal',\n  components: {SubItem},\n  props: {\n    menuList: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      defaultActive: null,\n    };\n  },\n  mounted() {\n    this.initElMenuOffsetLeft();\n    this.setCurrentRouterHighlight(this.$route.path);\n  },\n  methods: {\n    // 设置横向滚动条可以鼠标滚轮滚动\n    onElMenuHorizontalScroll(e) {\n      const eventDelta = e.wheelDelta || -e.deltaY * 40;\n      this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft = this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft + eventDelta / 4;\n    },\n    // 初始化数据，页面刷新时，滚动条滚动到对应位置\n    initElMenuOffsetLeft() {\n      this.$nextTick(() => {\n        let els = document.querySelector('.el-menu.el-menu--horizontal li.is-active');\n        if (!els) return false;\n        this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft = els.offsetLeft;\n      });\n    },\n    // 路由过滤递归函数\n    filterRoutesFun(arr) {\n      return arr\n          .filter((item) => !item.isHide)\n          .map((item) => {\n            item = Object.assign({}, item);\n            if (item.children) item.children = this.filterRoutesFun(item.children);\n            return item;\n          });\n    },\n    // 传送当前子级数据到菜单中\n    setSendClassicChildren(path) {\n      const currentPathSplit = path.split('/');\n      let currentData = {};\n      this.filterRoutesFun(this.menuList).map((v, k) => {\n        if (v.path === `/${currentPathSplit[1]}`) {\n          v['k'] = k;\n          currentData['item'] = [{...v}];\n          currentData['children'] = [{...v}];\n          if (v.children) currentData['children'] = v.children;\n        }\n      });\n      return currentData;\n    },\n    // 菜单激活回调\n    onHorizontalSelect(path) {\n      this.bus.$emit('setSendClassicChildren', this.setSendClassicChildren(path));\n    },\n    // 设置页面当前路由高亮\n    setCurrentRouterHighlight(path) {\n      const currentPathSplit = path.split('/');\n      if (this.$store.state.themeConfig.themeConfig.layout === 'classic') {\n        this.defaultActive = `/${currentPathSplit[1]}`;\n      } else {\n        this.defaultActive = path;\n      }\n    },\n  },\n  watch: {\n    // 监听路由的变化\n    $route: {\n      handler(to) {\n        this.setCurrentRouterHighlight(to.path);\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.el-menu-horizontal-warp {\n  flex: 1;\n  overflow: hidden;\n  margin-right: 30px;\n\n  ::v-deep .el-scrollbar__bar.is-vertical {\n    display: none;\n  }\n\n  ::v-deep .el-scrollbar__wrap {\n    overflow-y: hidden !important;\n  }\n\n  ::v-deep a {\n    width: 100%;\n  }\n\n  .el-menu.el-menu--horizontal {\n    display: flex;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n  }\n}\n</style>\n"]}]}