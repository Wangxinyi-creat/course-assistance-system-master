{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\menu\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\menu\\index.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7TWVzc2FnZSwgTWVzc2FnZUJveH0gZnJvbSAiZWxlbWVudC11aSI7CmltcG9ydCB7ZGVsZXRlTWVudSwgZ2V0TWVudUxpc3R9IGZyb20gIkAvYXBpL3N5c3RlbS9tZW51IjsKaW1wb3J0IHtkZWVwQ29weSwgcmVtb3ZlTWVudVR5cGUyfSBmcm9tICJAL3V0aWxzL3V0aWxzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncG93ZXJNZW51JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiB7CiAgICAgICAgZGF0YTogW10sCiAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgICBwYXJhbTogewogICAgICAgICAgbWVudU5hbWU6ICcnLAogICAgICAgIH0sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgTWVudURpYWxvZzogKCkgPT4gaW1wb3J0KCdAL3ZpZXdzL3N5c3RlbS9tZW51L2RpYWxvZy52dWUnKSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFRhYmxlRGF0YSgpCiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIOiOt+WPluiPnOWNlQogICAgICovCiAgICBnZXRUYWJsZURhdGEoKSB7CiAgICAgIHRoaXMudGFibGVEYXRhLmxvYWRpbmcgPSB0cnVlOwogICAgICBnZXRNZW51TGlzdCh0aGlzLnRhYmxlRGF0YS5wYXJhbSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMudGFibGVEYXRhLmRhdGEgPSByZXMuZGF0YTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9LCA1MDApOwogICAgICB9KQogICAgfSwKICAgIC8qKgogICAgICog5re75Yqg55So5oi3L+e8lui+keeUqOaItwogICAgICogQHBhcmFtIGZsYWcKICAgICAqIEBwYXJhbSByb3cKICAgICAqLwogICAgb25PcGVuQWRkT3JFZGl0TWVudShmbGFnLCByb3cpIHsKICAgICAgLy/kuIrnuqfoj5zljZXmlbDmja7ojrflj5YKICAgICAgY29uc3QgbWVudURhdGFTID0gcmVtb3ZlTWVudVR5cGUyKGRlZXBDb3B5KHRoaXMudGFibGVEYXRhLmRhdGEpKQogICAgICBtZW51RGF0YVMudW5zaGlmdCh7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgbWVudU5hbWU6ICLml6AiCiAgICAgIH0pCiAgICAgIHRoaXMuJHJlZnMubWVudURpYWxvZ1JlZi5tZW51RGF0YSA9IG1lbnVEYXRhUwogICAgICB0aGlzLiRyZWZzLm1lbnVEaWFsb2dSZWYub3BlbkRpYWxvZyhmbGFnLCByb3cpCiAgICB9LAogICAgLyoqCiAgICAgKiDliKDpmaQKICAgICAqIEBwYXJhbSByb3cKICAgICAqLwogICAgb25UYWJlbFJvd0RlbChyb3cpIHsKICAgICAgLy/mj5DnpLoKICAgICAgTWVzc2FnZUJveC5jb25maXJtKGDmraTmk43kvZzlsIbmsLjkuYXliKDpmaToj5zljZXlkI3np7DkuLrvvJrigJwke3Jvdy5tZW51TmFtZX3igJ3nmoTmlbDmja7vvIzmmK/lkKbnu6fnu60/YCwgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruiupCcsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAvL+iwg+eUqOWIoOmZpOaWueazlQogICAgICAgIGRlbGV0ZU1lbnUocm93LmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLmdldFRhYmxlRGF0YSgpOwogICAgICAgICAgTWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgICAgICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICog6I+c5Y2V57G75Z6L5qC35byPCiAgICAgKiBAcGFyYW0gcm93CiAgICAgKiBAcGFyYW0gaW5kZXgKICAgICAqIEByZXR1cm5zIHt7fX0KICAgICAqLwogICAgbWVudVR5cGVTdHlsZSh7cm93LCBpbmRleH0pIHsKICAgICAgbGV0IHN0eWxlID0ge307CiAgICAgIGlmIChyb3cubWVudVR5cGUgPT09IDEpIHsKICAgICAgICBzdHlsZSA9IHsKICAgICAgICAgICdjb2xvcic6ICcjMzlhYjUwJywKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocm93Lm1lbnVUeXBlID09PSAyKSB7CiAgICAgICAgc3R5bGUgPSB7CiAgICAgICAgICAnY29sb3InOiAnI2U2YTIzYycsCiAgICAgICAgICAnYmFja2dyb3VuZCc6ICcjZmRmNmVjJywKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHN0eWxlOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/system/menu","sourcesContent":["<template>\n  <div class=\"system-menu-container layout-pd\">\n    <el-card shadow=\"hover\">\n      <div class=\"system-menu-search mb15\">\n        <el-input size=\"medium\" v-model=\"tableData.param.menuName\" placeholder=\"请输入菜单名称\"\n                  style=\"max-width: 180px\"></el-input>\n        <el-button size=\"medium\" type=\"primary\" class=\"ml10\" icon=\"el-icon-search\" @click=\"getTableData()\">查询\n        </el-button>\n        <el-button size=\"medium\" type=\"success\" class=\"ml10\" icon=\"el-icon-plus\" @click=\"onOpenAddOrEditMenu('add',0)\">\n          新增菜单\n        </el-button>\n      </div>\n      <el-table\n        :data=\"tableData.data\"\n        v-loading=\"tableData.loading\"\n        style=\"width: 100%\"\n        :row-style=\"menuTypeStyle\"\n        border\n        row-key=\"id\"\n        :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\n      >\n        <el-table-column label=\"菜单名称\" align=\"center\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <i :class=\"scope.row.elIcon\"></i>\n            <span class=\"ml10\">{{ scope.row.menuName }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"路由名称\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"path\" label=\"路由路径\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"component\" label=\"组件路径\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column label=\"菜单类型\" align=\"center\" show-overflow-tooltip>\n          <template #default=\"scope\">\n            <el-tag type=\"info\" size=\"small\" v-if=\"scope.row.menuType === 0\">目录</el-tag>\n            <el-tag type=\"success\" size=\"small\" v-if=\"scope.row.menuType === 1\">菜单</el-tag>\n            <el-tag type=\"warning\" size=\"small\" v-if=\"scope.row.menuType === 2\">按钮</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"是否隐藏\" align=\"center\" show-overflow-tooltip>\n          <template slot-scope=\"scope\" v-if=\"scope.row.menuType !== 2\">\n            <el-tag type=\"success\" v-if=\"scope.row.isHide\">是</el-tag>\n            <el-tag type=\"danger\" v-else>否</el-tag>\n<!--            <span class=\"ml10\"-->\n<!--                  :style=\"scope.row.isHide?'color:#01b79d':'color:#ec5656'\">{{ scope.row.isHide ? \"\" : \"\" }}</span>-->\n          </template>\n        </el-table-column>\n        <el-table-column label=\"是否固定\" align=\"center\" show-overflow-tooltip>\n          <template slot-scope=\"scope\" v-if=\"scope.row.menuType === 1\">\n            <el-tag type=\"success\" v-if=\"scope.row.isAffix\">是</el-tag>\n            <el-tag type=\"danger\" v-else>否</el-tag>\n<!--            <span class=\"ml10\"-->\n<!--                  :style=\"scope.row.isAffix?'color:#01b79d':'color:#ec5656'\">{{-->\n<!--                scope.row.isAffix ? \"是\" : \"否\"-->\n<!--              }}</span>-->\n          </template>\n        </el-table-column>\n        <el-table-column label=\"用户是否可见\" align=\"center\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <el-tag type=\"success\" v-if=\"scope.row.showFlag\">是</el-tag>\n            <el-tag type=\"danger\" v-else>否</el-tag>\n<!--            <span class=\"ml10\"-->\n<!--                  :style=\"scope.row.showFlag?'color:#01b79d':'color:#ec5656'\">{{-->\n<!--                scope.row.showFlag ? \"是\" : \"否\"-->\n<!--              }}</span>-->\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"180px\" fixed=\"right\">\n          <template #default=\"scope\">\n            <el-button size=\"small\" type=\"text\" v-if=\"scope.row.menuType!=2\"\n                       @click=\"onOpenAddOrEditMenu('add',scope.row)\"\n                       icon=\"el-icon-plus\">新增\n            </el-button>\n            <el-button size=\"small\" type=\"text\" @click=\"onOpenAddOrEditMenu('edit', scope.row)\" icon=\"el-icon-edit\">\n              修改\n            </el-button>\n            <el-button size=\"small\" type=\"text\" @click=\"onTabelRowDel(scope.row)\" icon=\"el-icon-delete\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <MenuDialog ref=\"menuDialogRef\" @refresh=\"getTableData()\"/>\n  </div>\n</template>\n\n<script>\nimport {Message, MessageBox} from \"element-ui\";\nimport {deleteMenu, getMenuList} from \"@/api/system/menu\";\nimport {deepCopy, removeMenuType2} from \"@/utils/utils\";\n\nexport default {\n  name: 'powerMenu',\n  data() {\n    return {\n      tableData: {\n        data: [],\n        loading: true,\n        param: {\n          menuName: '',\n        },\n      },\n    };\n  },\n  components: {\n    MenuDialog: () => import('@/views/system/menu/dialog.vue'),\n  },\n  created() {\n    this.getTableData()\n  },\n  methods: {\n    /**\n     * 获取菜单\n     */\n    getTableData() {\n      this.tableData.loading = true;\n      getMenuList(this.tableData.param).then(res => {\n        this.tableData.data = res.data;\n        setTimeout(() => {\n          this.tableData.loading = false;\n        }, 500);\n      })\n    },\n    /**\n     * 添加用户/编辑用户\n     * @param flag\n     * @param row\n     */\n    onOpenAddOrEditMenu(flag, row) {\n      //上级菜单数据获取\n      const menuDataS = removeMenuType2(deepCopy(this.tableData.data))\n      menuDataS.unshift({\n        id: 0,\n        menuName: \"无\"\n      })\n      this.$refs.menuDialogRef.menuData = menuDataS\n      this.$refs.menuDialogRef.openDialog(flag, row)\n    },\n    /**\n     * 删除\n     * @param row\n     */\n    onTabelRowDel(row) {\n      //提示\n      MessageBox.confirm(`此操作将永久删除菜单名称为：“${row.menuName}”的数据，是否继续?`, '提示', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }).then(() => {\n        //调用删除方法\n        deleteMenu(row.id).then(res => {\n          this.getTableData();\n          Message.success(\"删除成功\");\n        })\n      }).catch(() => {\n      });\n    },\n    /**\n     * 菜单类型样式\n     * @param row\n     * @param index\n     * @returns {{}}\n     */\n    menuTypeStyle({row, index}) {\n      let style = {};\n      if (row.menuType === 1) {\n        style = {\n          'color': '#39ab50',\n        }\n      } else if (row.menuType === 2) {\n        style = {\n          'color': '#e6a23c',\n          'background': '#fdf6ec',\n        }\n      }\n      return style;\n    }\n  }\n};\n</script>\n"]}]}