{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navMenu\\horizontal.vue?vue&type=style&index=0&id=b7124ca6&scoped=true&lang=scss&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navMenu\\horizontal.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVsLW1lbnUtaG9yaXpvbnRhbC13YXJwIHsKICBmbGV4OiAxOwogIG92ZXJmbG93OiBoaWRkZW47CiAgbWFyZ2luLXJpZ2h0OiAzMHB4OwoKICA6OnYtZGVlcCAuZWwtc2Nyb2xsYmFyX19iYXIuaXMtdmVydGljYWwgewogICAgZGlzcGxheTogbm9uZTsKICB9CgogIDo6di1kZWVwIC5lbC1zY3JvbGxiYXJfX3dyYXAgewogICAgb3ZlcmZsb3cteTogaGlkZGVuICFpbXBvcnRhbnQ7CiAgfQoKICA6OnYtZGVlcCBhIHsKICAgIHdpZHRoOiAxMDAlOwogIH0KCiAgLmVsLW1lbnUuZWwtbWVudS0taG9yaXpvbnRhbCB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgaGVpZ2h0OiAxMDAlOwogICAgd2lkdGg6IDEwMCU7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIH0KfQo="},{"version":3,"sources":["horizontal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"horizontal.vue","sourceRoot":"src/layout/navMenu","sourcesContent":["<template>\n  <div class=\"el-menu-horizontal-warp\">\n    <el-scrollbar @wheel.native.prevent=\"onElMenuHorizontalScroll\" ref=\"elMenuHorizontalScrollRef\">\n      <el-menu router :default-active=\"defaultActive\"\n               background-color=\"#545c64\"\n               text-color=\"#fff\"\n               active-text-color=\"#ffd04b\"\n               mode=\"horizontal\"\n               @select=\"onHorizontalSelect\">\n        <template v-for=\"item in menuList\">\n          <el-submenu :index=\"item.path\" v-if=\"item.children && item.children.length > 0\" :key=\"item.path\">\n            <template slot=\"title\">\n              <i :class=\"item.elIcon ? item.elIcon : ''\"></i>\n              <span>{{ item.menuName }}</span>\n            </template>\n            <SubItem :chil=\"item.children\"/>\n          </el-submenu>\n          <template v-else>\n            <el-menu-item :index=\"item.path\" :key=\"item.path\">\n              <template slot=\"title\" v-if=\"!item.isLink || (item.isLink && item.isIframe)\">\n                <i :class=\"item.elIcon ? item.elIcon : ''\"></i>\n                {{ item.menuName }}\n              </template>\n              <template slot=\"title\" v-else>\n                <a :href=\"item.isLink\" target=\"_blank\">\n                  <i :class=\"item.elIcon ? item.elIcon : ''\"></i>\n                  {{ item.menuName }}\n                </a>\n              </template>\n            </el-menu-item>\n          </template>\n        </template>\n      </el-menu>\n    </el-scrollbar>\n  </div>\n</template>\n\n<script>\nimport SubItem from '@/layout/navMenu/subItem.vue';\n\nexport default {\n  name: 'navMenuHorizontal',\n  components: {SubItem},\n  props: {\n    menuList: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      defaultActive: null,\n    };\n  },\n  mounted() {\n    this.initElMenuOffsetLeft();\n    this.setCurrentRouterHighlight(this.$route.path);\n  },\n  methods: {\n    // 设置横向滚动条可以鼠标滚轮滚动\n    onElMenuHorizontalScroll(e) {\n      const eventDelta = e.wheelDelta || -e.deltaY * 40;\n      this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft = this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft + eventDelta / 4;\n    },\n    // 初始化数据，页面刷新时，滚动条滚动到对应位置\n    initElMenuOffsetLeft() {\n      this.$nextTick(() => {\n        let els = document.querySelector('.el-menu.el-menu--horizontal li.is-active');\n        if (!els) return false;\n        this.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft = els.offsetLeft;\n      });\n    },\n    // 路由过滤递归函数\n    filterRoutesFun(arr) {\n      return arr\n          .filter((item) => !item.isHide)\n          .map((item) => {\n            item = Object.assign({}, item);\n            if (item.children) item.children = this.filterRoutesFun(item.children);\n            return item;\n          });\n    },\n    // 传送当前子级数据到菜单中\n    setSendClassicChildren(path) {\n      const currentPathSplit = path.split('/');\n      let currentData = {};\n      this.filterRoutesFun(this.menuList).map((v, k) => {\n        if (v.path === `/${currentPathSplit[1]}`) {\n          v['k'] = k;\n          currentData['item'] = [{...v}];\n          currentData['children'] = [{...v}];\n          if (v.children) currentData['children'] = v.children;\n        }\n      });\n      return currentData;\n    },\n    // 菜单激活回调\n    onHorizontalSelect(path) {\n      this.bus.$emit('setSendClassicChildren', this.setSendClassicChildren(path));\n    },\n    // 设置页面当前路由高亮\n    setCurrentRouterHighlight(path) {\n      const currentPathSplit = path.split('/');\n      if (this.$store.state.themeConfig.themeConfig.layout === 'classic') {\n        this.defaultActive = `/${currentPathSplit[1]}`;\n      } else {\n        this.defaultActive = path;\n      }\n    },\n  },\n  watch: {\n    // 监听路由的变化\n    $route: {\n      handler(to) {\n        this.setCurrentRouterHighlight(to.path);\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.el-menu-horizontal-warp {\n  flex: 1;\n  overflow: hidden;\n  margin-right: 30px;\n\n  ::v-deep .el-scrollbar__bar.is-vertical {\n    display: none;\n  }\n\n  ::v-deep .el-scrollbar__wrap {\n    overflow-y: hidden !important;\n  }\n\n  ::v-deep a {\n    width: 100%;\n  }\n\n  .el-menu.el-menu--horizontal {\n    display: flex;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n  }\n}\n</style>\n"]}]}