{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\scas\\student\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\scas\\student\\index.vue","mtime":1715496819165},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7TWVzc2FnZSwgTWVzc2FnZUJveH0gZnJvbSAiZWxlbWVudC11aSI7CmltcG9ydCB7ZGVsQ291cnNlcywgZ2V0Q291cnNlc30gZnJvbSAiQC9hcGkvc2Nhcy9teV9jb3Vyc2VzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ291cnNlcycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogewogICAgICAgIGRhdGE6IFtdLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgIHBhcmFtOiB7CiAgICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIH0sCiAgICAgIH0sCiAgICAgIGNyZWF0ZUNvdXJzZTogW10KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICByZXZpZXdzOiAoKSA9PiBpbXBvcnQoJ0Avdmlld3Mvc2Nhcy9zdHVkZW50L3BpbmdqaWEudnVlJyksCiAgICBkZXRhaWw6ICgpID0+IGltcG9ydCgnLi9kZXRhaWwudnVlJykKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFRhYmxlRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDojrflj5boj5zljZUKICAgICAqLwogICAgZ2V0VGFibGVEYXRhKCkgewogICAgICB0aGlzLnRhYmxlRGF0YS5sb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0Q291cnNlcyh0aGlzLnRhYmxlRGF0YS5wYXJhbSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMudGFibGVEYXRhLmRhdGEgPSByZXMuZGF0YS5saXN0OwogICAgICAgIHRoaXMudGFibGVEYXRhLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSwgNTAwKTsKICAgICAgfSkKICAgIH0sCiAgICBnb3RvRGV0YWlsKHJvdykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ2NvdXJzZURldGFpbCcsIHF1ZXJ5OiB7aWQ6IHJvdy5jb3Vyc2VJZH19KQogICAgfSwKICAgIHBpbmdqaWEocm93KSB7CiAgICAgIHRoaXMuJHJlZnMucmV2aWV3c1JlZi5vcGVuRGlhbG9nKHJvdykKICAgIH0sCiAgICAvKioKICAgICAqIOWIoOmZpOWtl+WFuAogICAgICogQHBhcmFtIHJvdwogICAgICovCiAgICBvblJvd0RlbChyb3cpIHsKICAgICAgY29uc3QgaWQgPSByb3cuaWQKICAgICAgLy/mj5DnpLoKICAgICAgTWVzc2FnZUJveC5jb25maXJtKGDmraTmk43kvZzlsIbpgIDlh7rvvIzlt7LmiqXlkI3or77nqIvvvJrigJwke3Jvdy5jb3Vyc2VOYW1lfeKAne+8jOaYr+WQpue7p+e7rT9gLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu6K6kJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIC8v6LCD55So5Yig6Zmk5pa55rOVCiAgICAgICAgZGVsQ291cnNlcyhpZCkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKTsKICAgICAgICAgIE1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgICAgfSkKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOS/ruaUueavj+mhteaJgOWtmOaVsOaNrumHj+eahOWAvOaJgOinpuWPkeeahOWHveaVsAogICAgICogQHBhcmFtIHZhbAogICAgICovCiAgICBvbkhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIC8vIOS/ruaUuemhteeahOWkp+WwjwogICAgICB0aGlzLnRhYmxlRGF0YS5wYXJhbS5wYWdlU2l6ZSA9IHZhbDsKICAgICAgLy8g5oyJ5paw55qEcGFnZU5v5ZKMcGFnZVNpemXov5vooYzmn6Xor6IKICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKTsKICAgIH0sCiAgICAvKioKICAgICAqIOS/ruaUueW9k+WJjemhteaJgOinpuWPkeeahOWHveaVsAogICAgICogQHBhcmFtIHZhbAogICAgICovCiAgICBvbkhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIC8vIOabtOaWsOW9k+WJjeeahOmhtQogICAgICB0aGlzLnRhYmxlRGF0YS5wYXJhbS5wYWdlTnVtID0gdmFsOwogICAgICAvLyDmjInmlrDnmoRwYWdlTm/lkoxwYWdlU2l6Zei/m+ihjOafpeivogogICAgICB0aGlzLmdldFRhYmxlRGF0YSgpOwogICAgfSwKICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/scas/student","sourcesContent":["<template>\n  <div class=\"system-user-container layout-padding\">\n    <el-card shadow=\"hover\" class=\"layout-padding-auto\">\n      <el-empty description=\"暂无选课，快去选课吧\" v-if=\"tableData.total ===0\"></el-empty>\n      <el-row :gutter=\"20\" v-else>\n        <el-col :span=\"6\"\n                v-for=\"(item,index) in tableData.data\"\n                :key=\"index\"\n                style=\"cursor: pointer\">\n          <el-card class=\"box-card\" shadow=\"hover\">\n            <div slot=\"header\" class=\"clearfix\">\n              <span>课程名称：{{ item.courseName }}</span>\n              <div style=\"float: right;\">\n                <el-button type=\"text\"\n                           style=\"padding: 3px 0\"\n                           icon=\"el-icon-delete\"\n                           @click=\"onRowDel(item)\"\n                           v-if=\"item.courseStatus === 1\">退课\n                </el-button>\n                <el-button type=\"text\"\n                           style=\"padding: 3px 0\"\n                           icon=\"el-icon-info\"\n                           @click=\"pingjia(item)\"\n                           v-if=\"item.courseStatus !== 1 && item.courseStatus !==2 \">评价\n                </el-button>\n              </div>\n            </div>\n            <div class=\"card-item\" @click=\"gotoDetail(item)\">\n              <p>课程类型：{{ item.courseType }}</p>\n              <p>任课教师：{{ item.teacherName }}</p>\n              <p>选课日期：{{ item.enrollmentDate }}</p>\n              <p>课程状态：\n                <el-tag v-if=\"item.courseStatus === 1\" type=\"success\">选课中</el-tag>\n                <el-tag v-else-if=\"item.courseStatus === 2\">教学中</el-tag>\n                <el-tag v-else type=\"info\">已结束</el-tag>\n              </p>\n            </div>\n          </el-card>\n        </el-col>\n      </el-row>\n\n      <el-pagination\n          @size-change=\"onHandleSizeChange\"\n          @current-change=\"onHandleCurrentChange\"\n          class=\"mt15\"\n          :pager-count=\"5\"\n          :page-sizes=\"[10, 20, 30]\"\n          v-model:current-page=\"tableData.param.pageNum\"\n          background\n          v-model:page-size=\"tableData.param.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"tableData.total\"\n      >\n      </el-pagination>\n\n\n      <reviews ref=\"reviewsRef\"/>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport {Message, MessageBox} from \"element-ui\";\nimport {delCourses, getCourses} from \"@/api/scas/my_courses\";\n\nexport default {\n  name: 'Courses',\n  data() {\n    return {\n      tableData: {\n        data: [],\n        total: 0,\n        loading: false,\n        param: {\n          pageNum: 1,\n          pageSize: 10,\n        },\n      },\n      createCourse: []\n    };\n  },\n  components: {\n    reviews: () => import('@/views/scas/student/pingjia.vue'),\n    detail: () => import('./detail.vue')\n  },\n  mounted() {\n    this.getTableData();\n  },\n  methods: {\n    /**\n     * 获取菜单\n     */\n    getTableData() {\n      this.tableData.loading = true;\n      getCourses(this.tableData.param).then(res => {\n        this.tableData.data = res.data.list;\n        this.tableData.total = res.data.total;\n        setTimeout(() => {\n          this.tableData.loading = false;\n        }, 500);\n      })\n    },\n    gotoDetail(row) {\n      this.$router.push({name: 'courseDetail', query: {id: row.courseId}})\n    },\n    pingjia(row) {\n      this.$refs.reviewsRef.openDialog(row)\n    },\n    /**\n     * 删除字典\n     * @param row\n     */\n    onRowDel(row) {\n      const id = row.id\n      //提示\n      MessageBox.confirm(`此操作将退出，已报名课程：“${row.courseName}”，是否继续?`, '提示', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }).then(() => {\n        //调用删除方法\n        delCourses(id).then(res => {\n          this.getTableData();\n          Message.success(\"删除成功\");\n        })\n      }).catch(() => {\n      });\n    },\n    /**\n     * 修改每页所存数据量的值所触发的函数\n     * @param val\n     */\n    onHandleSizeChange(val) {\n      // 修改页的大小\n      this.tableData.param.pageSize = val;\n      // 按新的pageNo和pageSize进行查询\n      this.getTableData();\n    },\n    /**\n     * 修改当前页所触发的函数\n     * @param val\n     */\n    onHandleCurrentChange(val) {\n      // 更新当前的页\n      this.tableData.param.pageNum = val;\n      // 按新的pageNo和pageSize进行查询\n      this.getTableData();\n    },\n  }\n};\n</script>\n\n<style>\n.card-item {\n  padding: 10px;\n\n  p {\n    padding: 5px 0;\n    font-size: 16px;\n  }\n}\n</style>\n"]}]}