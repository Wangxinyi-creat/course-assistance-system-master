{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\component\\upload-img\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\component\\upload-img\\index.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJpbWdVcGxvYWQiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSVVQTE9BRAogICAgICAgIH0KICAgIH0sCiAgICBwcm9wczogewogICAgICAgIHZhbHVlOiBTdHJpbmcsCiAgICAgICAgZGlzYWJsZWQ6IEJvb2xlYW4KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLyoqCiAgICAgICAgICog5Zu+54mH5LiK5Lyg5oiQ5Yqf5Zue6LCDCiAgICAgICAgICogQHBhcmFtIHJlcwogICAgICAgICAqIEBwYXJhbSBmaWxlCiAgICAgICAgICovCiAgICAgICAgaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHJlcy5kYXRhOwogICAgICAgICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMudmFsdWUpCiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiDlm77niYfkuIrkvKDliY3osIPnlKgKICAgICAgICAgKiBAcGFyYW0gZmlsZQogICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufQogICAgICAgICAqLwogICAgICAgIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7CiAgICAgICAgICAgIGNvbnN0IGlzUE5HID0gZmlsZS50eXBlID09PSAnaW1hZ2UvcG5nJzsKICAgICAgICAgICAgY29uc3QgaXNKUEcgPSBmaWxlLnR5cGUgPT09ICdpbWFnZS9qcGVnJzsKICAgICAgICAgICAgY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyOwoKICAgICAgICAgICAgaWYgKCFpc0pQRyAmJiAhaXNQTkcpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWktOWDj+WbvueJh+WPquiDveaYryBKUEcg5oiWIFBORyDmoLzlvI8hJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFpc0x0Mk0pIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWktOWDj+WbvueJh+Wkp+Wwj+S4jeiDvei2hei/hyAyTUIhJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgaXNJTUcgPSBpc0pQRyB8fCBpc1BORwogICAgICAgICAgICByZXR1cm4gaXNJTUcgJiYgaXNMdDJNOwogICAgICAgIH0KICAgIH0KfQoK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/component/upload-img","sourcesContent":["<template>\n    <el-upload\n        :disabled=\"disabled\"\n        class=\"avatar-uploader\"\n        :action=\"baseURL\"\n        :show-file-list=\"false\"\n        :on-success=\"handleAvatarSuccess\"\n        :before-upload=\"beforeAvatarUpload\">\n        <img v-if=\"value\" :src=\"value\" class=\"avatar\">\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n    </el-upload>\n</template>\n\n<script>\nexport default {\n    name: \"imgUpload\",\n    data() {\n        return {\n            baseURL: process.env.VUE_APP_APIUPLOAD\n        }\n    },\n    props: {\n        value: String,\n        disabled: Boolean\n    },\n    methods: {\n        /**\n         * 图片上传成功回调\n         * @param res\n         * @param file\n         */\n        handleAvatarSuccess(res, file) {\n            this.value = res.data;\n            this.$emit(\"input\", this.value)\n        },\n        /**\n         * 图片上传前调用\n         * @param file\n         * @returns {boolean}\n         */\n        beforeAvatarUpload(file) {\n            const isPNG = file.type === 'image/png';\n            const isJPG = file.type === 'image/jpeg';\n            const isLt2M = file.size / 1024 / 1024 < 2;\n\n            if (!isJPG && !isPNG) {\n                this.$message.error('上传头像图片只能是 JPG 或 PNG 格式!');\n            }\n            if (!isLt2M) {\n                this.$message.error('上传头像图片大小不能超过 2MB!');\n            }\n            const isIMG = isJPG || isPNG\n            return isIMG && isLt2M;\n        }\n    }\n}\n\n</script>\n\n\n<style>\n.avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n\n.avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n}\n\n.avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n    text-align: center;\n}\n\n.avatar {\n    width: 120px;\n    height: 120px;\n    display: block;\n}\n</style>\n"]}]}