{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\role\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\role\\index.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7TWVzc2FnZSwgTWVzc2FnZUJveH0gZnJvbSAiZWxlbWVudC11aSI7CmltcG9ydCB7YWRkUm9sZSwgY2hhbmdlU3RhdHVzLCBkZWxldGVSb2xlLCBnZXRSb2xlLCB1cGRhdGVSb2xlfSBmcm9tICJAL2FwaS9zeXN0ZW0vcm9sZSI7CmltcG9ydCB7YWRkRW1wb3dlclJvdXRlcn0gZnJvbSAiQC91dGlscy9hZGRSb3V0ZXIiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdwb3dlclJvbGUnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZURhdGE6IHsKICAgICAgICBkYXRhOiBbXSwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICBwYXJhbTogewogICAgICAgICAgcm9sZU5hbWU6ICcnLAogICAgICAgICAgcGFnZU51bTogMSwKICAgICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICB9LAogICAgICB9LAogICAgICBkaWFsb2c6IHsKICAgICAgICBpc1Nob3dEaWFsb2c6IGZhbHNlLAogICAgICAgIHR5cGU6ICcnLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBzdWJtaXRUeHQ6ICcnLAogICAgICB9LAogICAgICBydWxlRm9ybTogewogICAgICAgIHJvbGVOYW1lOiAnJywgLy8g6KeS6Imy5ZCN56ewCiAgICAgICAgZGF0YVNjb3BlOiAnJywgLy8g5pWw5o2u6IyD5Zu0CiAgICAgICAgcmVtYXJrczogJycsIC8vIOWkh+azqAogICAgICB9LAogICAgICBydWxlczoge3JvbGVOYW1lOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6KeS6Imy5ZCN56ewJywgdHJpZ2dlcjogJ2JsdXInfV19CiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgUm9sZU1lbnVEaWFsb2c6ICgpID0+IGltcG9ydCgnQC92aWV3cy9zeXN0ZW0vcm9sZS9kaWFsb2cudnVlJyksCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRUYWJsZURhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog6I635Y+W6I+c5Y2VCiAgICAgKi8KICAgIGdldFRhYmxlRGF0YSgpIHsKICAgICAgdGhpcy50YWJsZURhdGEubG9hZGluZyA9IHRydWU7CiAgICAgIGdldFJvbGUodGhpcy50YWJsZURhdGEucGFyYW0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnRhYmxlRGF0YS5kYXRhID0gcmVzLmRhdGEubGlzdDsKICAgICAgICB0aGlzLnRhYmxlRGF0YS50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy50YWJsZURhdGEubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0pCiAgICB9LAogICAgLyoqCiAgICAgKiDmn6Xor6IKICAgICAqLwogICAgc2VhcmNoKCkgewogICAgICB0aGlzLmdldFRhYmxlRGF0YSgpOwogICAgfSwKICAgIC8qKgogICAgICog5omT5byA5paw5aKe77yM57yW6L6R5a+56K+d5qGGCiAgICAgKiBAcGFyYW0gZmxhZwogICAgICogQHBhcmFtIHJvdwogICAgICovCiAgICBvbk9wZW5EaWFsb2dSb2xlKGZsYWcsIHJvdykgewogICAgICBpZiAoZmxhZyA9PT0gJ2VkaXQnKSB7CiAgICAgICAgdGhpcy5ydWxlRm9ybSA9IHsuLi5yb3d9OwogICAgICAgIHRoaXMuZGlhbG9nLnRpdGxlID0gJ+S/ruaUueeUqOaItyc7CiAgICAgICAgdGhpcy5kaWFsb2cuc3VibWl0VHh0ID0gJ+S/riDmlLknOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucnVsZUZvcm0gPSB7fTsKICAgICAgICB0aGlzLmRpYWxvZy50aXRsZSA9ICfmlrDlop7nlKjmiLcnOwogICAgICAgIHRoaXMuZGlhbG9nLnN1Ym1pdFR4dCA9ICfmlrAg5aKeJzsKICAgICAgfQogICAgICB0aGlzLmRpYWxvZy50eXBlID0gZmxhZwogICAgICB0aGlzLmRpYWxvZy5pc1Nob3dEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIC8qKgogICAgICog5Yig6Zmk55So5oi3CiAgICAgKiBAcGFyYW0gcm93CiAgICAgKi8KICAgIG9uUm93RGVsKHJvdykgewogICAgICAvL+aPkOekugogICAgICBNZXNzYWdlQm94LmNvbmZpcm0oYOatpOaTjeS9nOWwhuawuOS5heWIoOmZpOinkuiJsuWQjeensO+8muKAnCR7cm93LnJvbGVOYW1lfeKAne+8jOaYr+WQpue7p+e7rT9gLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu6K6kJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIC8v6LCD55So5Yig6Zmk5pa55rOVCiAgICAgICAgZGVsZXRlUm9sZShyb3cuaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCk7CiAgICAgICAgICBNZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiDnlKjmiLfotKblj7fkv67mlLnlm57osIMKICAgICAqLwogICAgY2hhbmdlU3RhdHVzKHJvdykgewogICAgICBjaGFuZ2VTdGF0dXMocm93LmlkLCByb3cuc2hvd0ZsYWcpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgTWVzc2FnZS5zdWNjZXNzKHJlcy5tZXNzYWdlKTsKICAgICAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLyoqCiAgICAgKiDlhbPpl63lvLnmoYYKICAgICAqLwogICAgb25DYW5jZWwoKSB7CiAgICAgIHRoaXMuZGlhbG9nLmlzU2hvd0RpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLiRyZWZzLnJvbGVEaWFsb2dGb3JtUmVmLnJlc2V0RmllbGRzKCkKICAgIH0sCiAgICAvKioKICAgICAqIOaJk+W8gOWIhumFjeiPnOWNleeVjOmdogogICAgICogQHBhcmFtIHJvdwogICAgICovCiAgICBvbk9wZW5Sb2xlTWVudShyb3cpIHsKICAgICAgdGhpcy4kcmVmcy5Sb2xlTWVudURpYWxvZ1JlZi5nZXRSb2xlTWVudShyb3cuaWQpOwogICAgfSwKICAgIC8qKgogICAgICog5aKe5YqgL+S/ruaUuSDop5LoibIKICAgICAqIEBwYXJhbSB0eXBlCiAgICAgKi8KICAgIG9uU3VibWl0KHR5cGUpIHsKICAgICAgdGhpcy4kcmVmc1sicm9sZURpYWxvZ0Zvcm1SZWYiXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2VkaXQnKSB7CiAgICAgICAgICAgIHVwZGF0ZVJvbGUodGhpcy5ydWxlRm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBNZXNzYWdlLnN1Y2Nlc3MocmVzLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFkZFJvbGUodGhpcy5ydWxlRm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBNZXNzYWdlLnN1Y2Nlc3MocmVzLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMub25DYW5jZWwoKTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLyoqCiAgICAgKiDot7Povazmn6Xor6Llt7LmjojmnYPnlKjmiLcKICAgICAqIEBwYXJhbSByb3cKICAgICAqLwogICAgZW1wb3dlcihyb3cpewogICAgICAvL+a3u+WKoOi3r+eUsQogICAgICBhZGRFbXBvd2VyUm91dGVyKCkKICAgICAgLy/ot7PovawKICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdlbXBvd2VyJywgcXVlcnk6IHtpZDogcm93LmlkfX0pCiAgICB9LAogICAgLyoqCiAgICAgKiDkv67mlLnmr4/pobXmiYDlrZjmlbDmja7ph4/nmoTlgLzmiYDop6blj5HnmoTlh73mlbAKICAgICAqIEBwYXJhbSB2YWwKICAgICAqLwogICAgb25IYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICAvLyDkv67mlLnpobXnmoTlpKflsI8KICAgICAgdGhpcy50YWJsZURhdGEucGFyYW0ucGFnZVNpemUgPSB2YWw7CiAgICAgIC8vIOaMieaWsOeahHBhZ2VOb+WSjHBhZ2VTaXpl6L+b6KGM5p+l6K+iCiAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCk7CiAgICB9LAogICAgLyoqCiAgICAgKiDkv67mlLnlvZPliY3pobXmiYDop6blj5HnmoTlh73mlbAKICAgICAqIEBwYXJhbSB2YWwKICAgICAqLwogICAgb25IYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICAvLyDmm7TmlrDlvZPliY3nmoTpobUKICAgICAgdGhpcy50YWJsZURhdGEucGFyYW0ucGFnZU51bSA9IHZhbDsKICAgICAgLy8g5oyJ5paw55qEcGFnZU5v5ZKMcGFnZVNpemXov5vooYzmn6Xor6IKICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKTsKICAgIH0sCiAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/system/role","sourcesContent":["<template>\n  <div class=\"system-user-container layout-padding\">\n    <el-card shadow=\"hover\" class=\"layout-padding-auto\">\n      <div class=\"system-user-search mb15\">\n        <el-input size=\"medium\" v-model=\"tableData.param.roleName\" placeholder=\"请输入角色名称\"\n                  style=\"max-width: 180px\"></el-input>\n        <el-button size=\"medium\" type=\"primary\" class=\"ml10\" icon=\"el-icon-search\" @click=\"search()\">\n          查询\n        </el-button>\n        <el-button size=\"medium\" type=\"success\" class=\"ml10\" icon=\"el-icon-plus\" v-hasPermi=\"['system:role:add']\"\n                   @click=\"onOpenDialogRole('add',null)\">\n          新增角色\n        </el-button>\n      </div>\n      <el-table :data=\"tableData.data\" v-loading=\"tableData.loading\" border style=\"width: 100%;min-height:calc(100vh - 320px)\">\n        <el-table-column type=\"index\" label=\"序号\" align=\"center\" width=\"60\"/>\n        <el-table-column prop=\"roleName\" label=\"角色名称\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"dataScope\" label=\"数据范围\" align=\"center\" show-overflow-tooltip>\n          <template #default=\"scope\">\n            <span>{{ scope.row.dataScope === 1 ? \"全部数据权限\" : \"自定义数据权限\" }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"是否显示\" align=\"center\" show-overflow-tooltip>\n          <template #default=\"scope\">\n            <el-switch\n                v-model=\"scope.row.showFlag\"\n                active-color=\"#13ce66\"\n                inactive-color=\"#ff4949\"\n                @change=\"changeStatus(scope.row)\">\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"remarks\" label=\"备注\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"createBy\" label=\"创建人\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"createTime\" label=\"创建时间\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column label=\"操作\" align=\"center\" width=\"300px\">\n          <template #default=\"scope\">\n            <el-button v-if=\"scope.row.dataScope!==1\"\n                       size=\"small\"\n                       type=\"text\"\n                       icon=\"el-icon-menu\"\n                       v-hasPermi=\"['system:role:update']\"\n                       @click=\"onOpenRoleMenu(scope.row)\">分配菜单\n            </el-button>\n            <el-button size=\"small\" type=\"text\" v-hasPermi=\"['system:role:update']\" @click=\"empower(scope.row)\" icon=\"el-icon-view\">已授权用户</el-button>\n            <el-button size=\"small\" type=\"text\" v-hasPermi=\"['system:role:update']\" @click=\"onOpenDialogRole('edit', scope.row)\" icon=\"el-icon-edit\">修改</el-button>\n            <el-button size=\"small\" type=\"text\" v-hasPermi=\"['system:role:delete']\" @click=\"onRowDel(scope.row)\" icon=\"el-icon-delete\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n          @size-change=\"onHandleSizeChange\"\n          @current-change=\"onHandleCurrentChange\"\n          class=\"mt15\"\n          :pager-count=\"5\"\n          :page-sizes=\"[10, 20, 30]\"\n          v-model:current-page=\"tableData.param.pageNum\"\n          background\n          v-model:page-size=\"tableData.param.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"tableData.total\"\n      >\n      </el-pagination>\n    </el-card>\n\n    <el-dialog :title=\"dialog.title\"\n               :visible.sync=\"dialog.isShowDialog\"\n               :close-on-click-modal=\"false\"\n               width=\"769px\">\n      <el-form ref=\"roleDialogFormRef\" :model=\"ruleForm\" :rules=\"rules\" size=\"default\" label-width=\"90px\">\n        <el-form-item label=\"角色名称\" prop=\"roleName\">\n          <el-input v-model=\"ruleForm.roleName\" placeholder=\"请输入角色名称(不可重复)\" clearable\n                    maxlength=\"20\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"数据范围\" prop=\"dataScope\">\n          <el-select v-model=\"ruleForm.dataScope\" placeholder=\"请选择\" clearable class=\"w100\">\n            <el-option label=\"全部数据权限\" :value=1></el-option>\n            <el-option label=\"自定义数据权限\" :value=2></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remarks\">\n          <el-input type=\"textarea\"\n                    :autosize=\"{ minRows: 3, maxRows: 6}\"\n                    v-model=\"ruleForm.remarks\"\n                    placeholder=\"请输入备注\" maxlength=\"200\" show-word-limit clearable></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n\t\t\t\t<span class=\"dialog-footer\">\n\t\t\t\t\t<el-button @click=\"onCancel\" size=\"default\">取 消</el-button>\n\t\t\t\t\t<el-button type=\"primary\" @click=\"onSubmit(dialog.type)\" size=\"default\">{{ dialog.submitTxt }}</el-button>\n\t\t\t\t</span>\n      </template>\n    </el-dialog>\n\n    <!--分配菜单抽屉-->\n    <RoleMenuDialog ref=\"RoleMenuDialogRef\" @refresh=\"getTableData()\"/>\n  </div>\n</template>\n\n<script>\nimport {Message, MessageBox} from \"element-ui\";\nimport {addRole, changeStatus, deleteRole, getRole, updateRole} from \"@/api/system/role\";\nimport {addEmpowerRouter} from \"@/utils/addRouter\";\n\nexport default {\n  name: 'powerRole',\n  data() {\n    return {\n      tableData: {\n        data: [],\n        total: 0,\n        loading: false,\n        param: {\n          roleName: '',\n          pageNum: 1,\n          pageSize: 10,\n        },\n      },\n      dialog: {\n        isShowDialog: false,\n        type: '',\n        title: '',\n        submitTxt: '',\n      },\n      ruleForm: {\n        roleName: '', // 角色名称\n        dataScope: '', // 数据范围\n        remarks: '', // 备注\n      },\n      rules: {roleName: [{required: true, message: '请输入角色名称', trigger: 'blur'}]}\n    };\n  },\n  components: {\n    RoleMenuDialog: () => import('@/views/system/role/dialog.vue'),\n  },\n  created() {\n    this.getTableData();\n  },\n  methods: {\n    /**\n     * 获取菜单\n     */\n    getTableData() {\n      this.tableData.loading = true;\n      getRole(this.tableData.param).then(res => {\n        this.tableData.data = res.data.list;\n        this.tableData.total = res.data.total;\n        setTimeout(() => {\n          this.tableData.loading = false;\n        }, 500);\n      })\n    },\n    /**\n     * 查询\n     */\n    search() {\n      this.getTableData();\n    },\n    /**\n     * 打开新增，编辑对话框\n     * @param flag\n     * @param row\n     */\n    onOpenDialogRole(flag, row) {\n      if (flag === 'edit') {\n        this.ruleForm = {...row};\n        this.dialog.title = '修改用户';\n        this.dialog.submitTxt = '修 改';\n      } else {\n        this.ruleForm = {};\n        this.dialog.title = '新增用户';\n        this.dialog.submitTxt = '新 增';\n      }\n      this.dialog.type = flag\n      this.dialog.isShowDialog = true;\n    },\n    /**\n     * 删除用户\n     * @param row\n     */\n    onRowDel(row) {\n      //提示\n      MessageBox.confirm(`此操作将永久删除角色名称：“${row.roleName}”，是否继续?`, '提示', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }).then(() => {\n        //调用删除方法\n        deleteRole(row.id).then(res => {\n          this.getTableData();\n          Message.success(\"删除成功\");\n        })\n      }).catch(() => {\n      });\n    },\n    /**\n     * 用户账号修改回调\n     */\n    changeStatus(row) {\n      changeStatus(row.id, row.showFlag).then(res => {\n        if (res.code === 200) {\n          Message.success(res.message);\n          this.getTableData()\n        }\n      })\n    },\n    /**\n     * 关闭弹框\n     */\n    onCancel() {\n      this.dialog.isShowDialog = false;\n      this.$refs.roleDialogFormRef.resetFields()\n    },\n    /**\n     * 打开分配菜单界面\n     * @param row\n     */\n    onOpenRoleMenu(row) {\n      this.$refs.RoleMenuDialogRef.getRoleMenu(row.id);\n    },\n    /**\n     * 增加/修改 角色\n     * @param type\n     */\n    onSubmit(type) {\n      this.$refs[\"roleDialogFormRef\"].validate(valid => {\n        if (valid) {\n          if (type === 'edit') {\n            updateRole(this.ruleForm).then(res => {\n              if (res.code === 200) {\n                Message.success(res.message);\n                this.getTableData()\n              }\n            })\n          } else {\n            addRole(this.ruleForm).then(res => {\n              if (res.code === 200) {\n                Message.success(res.message);\n                this.getTableData()\n              }\n            })\n          }\n          this.onCancel();\n        }\n      })\n    },\n    /**\n     * 跳转查询已授权用户\n     * @param row\n     */\n    empower(row){\n      //添加路由\n      addEmpowerRouter()\n      //跳转\n      this.$router.push({name: 'empower', query: {id: row.id}})\n    },\n    /**\n     * 修改每页所存数据量的值所触发的函数\n     * @param val\n     */\n    onHandleSizeChange(val) {\n      // 修改页的大小\n      this.tableData.param.pageSize = val;\n      // 按新的pageNo和pageSize进行查询\n      this.getTableData();\n    },\n    /**\n     * 修改当前页所触发的函数\n     * @param val\n     */\n    onHandleCurrentChange(val) {\n      // 更新当前的页\n      this.tableData.param.pageNum = val;\n      // 按新的pageNo和pageSize进行查询\n      this.getTableData();\n    },\n  }\n};\n</script>\n"]}]}