{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navBars\\topBar\\user.vue?vue&type=style&index=0&id=4b59a9e4&scoped=true&lang=scss&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navBars\\topBar\\user.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubGF5b3V0LW5hdmJhcnMtYnJlYWRjcnVtYi11c2VyIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKCiAgJi1saW5rIHsKICAgIGhlaWdodDogMTAwJTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKCiAgICAmLXBob3RvIHsKICAgICAgd2lkdGg6IDI1cHg7CiAgICAgIGhlaWdodDogMjVweDsKICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTsKICAgIH0KICB9CgogICYtaWNvbiB7CiAgICBwYWRkaW5nOiAwIDEwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBjb2xvcjogdmFyKC0tcHJldi1iZy10b3BCYXJDb2xvcik7CiAgICBoZWlnaHQ6IDUwcHg7CiAgICBsaW5lLWhlaWdodDogNTBweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwoKICAgICY6aG92ZXIgewogICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmV2LWNvbG9yLWhvdmVyKTsKCiAgICAgIGkgewogICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICBhbmltYXRpb246IGxvZ29BbmltYXRpb24gMC4zcyBlYXNlLWluLW91dDsKICAgICAgfQogICAgfQogIH0KCiAgJiA6OnYtZGVlcCAuZWwtZHJvcGRvd24gewogICAgY29sb3I6IHZhcigtLXByZXYtYmctdG9wQmFyQ29sb3IpOwogIH0KCiAgJiA6OnYtZGVlcCAuZWwtYmFkZ2UgewogICAgaGVpZ2h0OiA0MHB4OwogICAgbGluZS1oZWlnaHQ6IDQwcHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICB9CgogICYgOjp2LWRlZXAgLmVsLWJhZGdlX19jb250ZW50LmlzLWZpeGVkIHsKICAgIHRvcDogMTJweDsKICB9Cn0K"},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsLA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/layout/navBars/topBar","sourcesContent":["<template>\n  <div class=\"layout-navbars-breadcrumb-user\" :style=\"{ flex: layoutUserFlexNum }\">\n    <!--大小调整-->\n    <el-dropdown :show-timeout=\"70\" :hide-timeout=\"50\" trigger=\"click\" @command=\"onComponentSizeChange\">\n      <div class=\"layout-navbars-breadcrumb-user-icon\">\n        <i class=\"iconfont icon-ziti\" :title=\"'组件大小'\"></i>\n      </div>\n      <template #dropdown>\n        <el-dropdown-menu>\n          <el-dropdown-item command=\"\" :disabled=\"disabledSize === ''\">默认</el-dropdown-item>\n          <el-dropdown-item command=\"medium\" :disabled=\"disabledSize === 'medium'\">中等</el-dropdown-item>\n          <el-dropdown-item command=\"small\" :disabled=\"disabledSize === 'small'\">小型</el-dropdown-item>\n          <el-dropdown-item command=\"mini\" :disabled=\"disabledSize === 'mini'\">超小</el-dropdown-item>\n        </el-dropdown-menu>\n      </template>\n    </el-dropdown>\n    <!--菜单搜索-->\n    <div class=\"layout-navbars-breadcrumb-user-icon\" @click=\"onSearchClick\">\n      <i class=\"el-icon-search\" :title=\"'菜单搜索'\"></i>\n    </div>\n    <!--布局配置-->\n    <div class=\"layout-navbars-breadcrumb-user-icon\" @click=\"onLayoutSetingClick\">\n      <i class=\"icon-skin iconfont\" :title=\"'布局配置'\"></i>\n    </div>\n    <!-- 全屏-->\n    <div class=\"layout-navbars-breadcrumb-user-icon mr10\" @click=\"onScreenfullClick\">\n      <i\n          class=\"iconfont\"\n          :title=\"isScreenfull ? '关全屏' : '开全屏'\"\n          :class=\"!isScreenfull ? 'icon-fullscreen' : 'icon-tuichuquanping'\"\n      ></i>\n    </div>\n    <!-- 个人中心-->\n    <el-dropdown :show-timeout=\"70\" :hide-timeout=\"50\" @command=\"onDropdownCommand\">\n\t\t\t<span class=\"layout-navbars-breadcrumb-user-link\">\n\t\t\t\t<img :src=\"getUserInfos.headSrc\" class=\"layout-navbars-breadcrumb-user-link-photo mr5\"/>\n\t\t\t\t{{ getUserInfos.userName === '' ? 'test' : getUserInfos.userName }}\n\t\t\t\t<i class=\"el-icon-arrow-down el-icon--right\"></i>\n\t\t\t</span>\n      <el-dropdown-menu slot=\"dropdown\">\n        <el-dropdown-item command=\"/home\">首页</el-dropdown-item>\n        <el-dropdown-item command=\"/personal\">个人中心</el-dropdown-item>\n        <!--        <el-dropdown-item command=\"/404\">404</el-dropdown-item>-->\n        <!--        <el-dropdown-item command=\"/401\">401</el-dropdown-item>-->\n        <el-dropdown-item divided command=\"logOut\">退出登录</el-dropdown-item>\n      </el-dropdown-menu>\n    </el-dropdown>\n    <Search ref=\"searchRef\"/>\n  </div>\n</template>\n\n<script>\nimport screenfull from 'screenfull';\nimport {Session, Local} from '@/utils/storage.js';\nimport Search from '@/layout/navBars/topBar/search.vue';\nimport {signOut} from \"../../../api/login\";\n\nexport default {\n  name: 'layoutBreadcrumbUser',\n  components: {Search},\n  data() {\n    return {\n      isScreenfull: false,\n      disabledI18n: 'zh-cn',\n      disabledSize: '',\n    };\n  },\n  computed: {\n    // 获取用户信息\n    getUserInfos() {\n      return this.$store.state.userInfos.userInfos.user;\n    },\n    // 设置弹性盒子布局 flex\n    layoutUserFlexNum() {\n      let {layout, isClassicSplitMenu} = this.$store.state.themeConfig.themeConfig;\n      let num = '';\n      if (layout === 'defaults' || (layout === 'classic' && !isClassicSplitMenu) || layout === 'columns') num = 1;\n      else num = null;\n      return num;\n    },\n  },\n  mounted() {\n    if (Local.get('themeConfigPrev')) {\n      this.initComponentSize();\n    }\n  },\n  methods: {\n    // 搜索点击\n    onSearchClick() {\n      this.$refs.searchRef.openSearch();\n    },\n    // 布局配置点击\n    onLayoutSetingClick() {\n      this.bus.$emit('openSetingsDrawer');\n    },\n    // 全屏点击\n    onScreenfullClick() {\n      if (!screenfull.isEnabled) {\n        this.$message.warning('暂不不支持全屏');\n        return false;\n      }\n      screenfull.toggle();\n      screenfull.on('change', () => {\n        if (screenfull.isFullscreen) this.isScreenfull = true;\n        else this.isScreenfull = false;\n      });\n      // 监听菜单 horizontal.vue 滚动条高度更新\n      this.bus.$emit('updateElScrollBar');\n    },\n    // 组件大小改变\n    onComponentSizeChange(size) {\n      Local.remove('themeConfigPrev');\n      this.$store.state.themeConfig.themeConfig.globalComponentSize = size;\n      Local.set('themeConfigPrev', this.$store.state.themeConfig.themeConfig);\n      this.$ELEMENT.size = size;\n      this.initComponentSize();\n      window.location.reload();\n    },\n    // 初始化全局组件大小\n    initComponentSize() {\n      switch (Local.get('themeConfigPrev').globalComponentSize) {\n        case '':\n          this.disabledSize = '';\n          break;\n        case 'medium':\n          this.disabledSize = 'medium';\n          break;\n        case 'small':\n          this.disabledSize = 'small';\n          break;\n        case 'mini':\n          this.disabledSize = 'mini';\n          break;\n      }\n    },\n    // `dropdown 下拉菜单` 当前项点击\n    onDropdownCommand(path) {\n      if (path === 'logOut') {\n        setTimeout(() => {\n          this.$msgbox({\n            closeOnClickModal: false,\n            closeOnPressEscape: false,\n            title: '提示',\n            message: '此操作将退出登录, 是否继续?',\n            showCancelButton: true,\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            beforeClose: (action, instance, done) => {\n              if (action === 'confirm') {\n                signOut().then(res => {\n                  instance.confirmButtonLoading = true;\n                  instance.confirmButtonText = '退出中';\n                  setTimeout(() => {\n                    done();\n                    setTimeout(() => {\n                      instance.confirmButtonLoading = false;\n                    }, 300);\n                  }, 700);\n                })\n              } else {\n                done();\n              }\n            },\n          })\n              .then(() => {\n                // 清除缓存/token等\n                Session.clear();\n                // 使用 reload 时，不需要调用 resetRoute() 重置路由\n                window.location.reload();\n              })\n              .catch(() => {\n              });\n        }, 150);\n      } else {\n        this.$router.push(path);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.layout-navbars-breadcrumb-user {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n\n  &-link {\n    height: 100%;\n    display: flex;\n    align-items: center;\n    white-space: nowrap;\n\n    &-photo {\n      width: 25px;\n      height: 25px;\n      border-radius: 100%;\n    }\n  }\n\n  &-icon {\n    padding: 0 10px;\n    cursor: pointer;\n    color: var(--prev-bg-topBarColor);\n    height: 50px;\n    line-height: 50px;\n    display: flex;\n    align-items: center;\n\n    &:hover {\n      background: var(--prev-color-hover);\n\n      i {\n        display: inline-block;\n        animation: logoAnimation 0.3s ease-in-out;\n      }\n    }\n  }\n\n  & ::v-deep .el-dropdown {\n    color: var(--prev-bg-topBarColor);\n  }\n\n  & ::v-deep .el-badge {\n    height: 40px;\n    line-height: 40px;\n    display: flex;\n    align-items: center;\n  }\n\n  & ::v-deep .el-badge__content.is-fixed {\n    top: 12px;\n  }\n}\n</style>\n"]}]}