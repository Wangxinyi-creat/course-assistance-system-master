{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\scas\\my_courses\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\scas\\my_courses\\index.vue","mtime":1715495818835},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7TWVzc2FnZSwgTWVzc2FnZUJveH0gZnJvbSAiZWxlbWVudC11aSI7CmltcG9ydCB7ZGVsQ291cnNlcywgZ2V0Q291cnNlc30gZnJvbSAiQC9hcGkvc2Nhcy9teV9jb3Vyc2VzIjsKaW1wb3J0IHtnZXRDcmVhdGV9IGZyb20gIkAvYXBpL3NjYXMvY291cnNlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ291cnNlcycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogewogICAgICAgIGRhdGE6IFtdLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgIHBhcmFtOiB7CiAgICAgICAgICBjb3Vyc2VJZDogJycsCiAgICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIH0sCiAgICAgIH0sCiAgICAgIGNyZWF0ZUNvdXJzZTogW10sCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgTXlDb3Vyc2VzRGlhbG9nOiAoKSA9PiBpbXBvcnQoJy4vZGlhbG9nLnZ1ZScpCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRUYWJsZURhdGEoKTsKICAgIHRoaXMuZ2V0Q3JlYXRlQ291cnNlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIOiOt+WPluiPnOWNlQogICAgICovCiAgICBnZXRUYWJsZURhdGEoKSB7CiAgICAgIHRoaXMudGFibGVEYXRhLmxvYWRpbmcgPSB0cnVlOwogICAgICBnZXRDb3Vyc2VzKHRoaXMudGFibGVEYXRhLnBhcmFtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy50YWJsZURhdGEuZGF0YSA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgdGhpcy50YWJsZURhdGEudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9LCA1MDApOwogICAgICB9KQogICAgfSwKICAgIGdldENyZWF0ZUNvdXJzZSgpIHsKICAgICAgZ2V0Q3JlYXRlKDEpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmNyZWF0ZUNvdXJzZSA9IHJlcy5kYXRhOwogICAgICB9KQogICAgfSwKICAgIC8qKgogICAgICog5L+u5pS55by55qGGCiAgICAgKiBAcGFyYW0gcm93CiAgICAgKi8KICAgIG9wZW5VcGRhdGUocm93KSB7CiAgICAgIHRoaXMuJHJlZnMuTXlDb3Vyc2VzRGlhbG9nUmVmLm9wZW5EaWFsb2cocm93KTsKICAgIH0sCiAgICAvKioKICAgICAqIOWIoOmZpOWtl+WFuAogICAgICogQHBhcmFtIHJvdwogICAgICovCiAgICBvblJvd0RlbChyb3cpIHsKICAgICAgY29uc3QgaWQgPSByb3cuaWQKICAgICAgLy/mj5DnpLoKICAgICAgTWVzc2FnZUJveC5jb25maXJtKGDmraTmk43kvZzlsIbpgIDlh7rvvIzlt7LmiqXlkI3or77nqIvvvJrigJwke3Jvdy5jb3Vyc2VOYW1lfeKAne+8jOaYr+WQpue7p+e7rT9gLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu6K6kJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIC8v6LCD55So5Yig6Zmk5pa55rOVCiAgICAgICAgZGVsQ291cnNlcyhpZCkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKTsKICAgICAgICAgIE1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgICAgfSkKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOS/ruaUueavj+mhteaJgOWtmOaVsOaNrumHj+eahOWAvOaJgOinpuWPkeeahOWHveaVsAogICAgICogQHBhcmFtIHZhbAogICAgICovCiAgICBvbkhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIC8vIOS/ruaUuemhteeahOWkp+WwjwogICAgICB0aGlzLnRhYmxlRGF0YS5wYXJhbS5wYWdlU2l6ZSA9IHZhbDsKICAgICAgLy8g5oyJ5paw55qEcGFnZU5v5ZKMcGFnZVNpemXov5vooYzmn6Xor6IKICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKTsKICAgIH0sCiAgICAvKioKICAgICAqIOS/ruaUueW9k+WJjemhteaJgOinpuWPkeeahOWHveaVsAogICAgICogQHBhcmFtIHZhbAogICAgICovCiAgICBvbkhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIC8vIOabtOaWsOW9k+WJjeeahOmhtQogICAgICB0aGlzLnRhYmxlRGF0YS5wYXJhbS5wYWdlTnVtID0gdmFsOwogICAgICAvLyDmjInmlrDnmoRwYWdlTm/lkoxwYWdlU2l6Zei/m+ihjOafpeivogogICAgICB0aGlzLmdldFRhYmxlRGF0YSgpOwogICAgfSwKICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/scas/my_courses","sourcesContent":["<template>\n  <div class=\"system-user-container layout-padding\">\n    <el-card shadow=\"hover\" class=\"layout-padding-auto\">\n      <div class=\"system-user-search mb15\">\n        <el-select v-model=\"tableData.param.courseId\" placeholder=\"请选择所属课程\" clearable size=\"medium\">\n          <el-option\n              v-for=\"item in createCourse\"\n              :key=\"item.id\"\n              :label=\"item.courseName\"\n              :value=\"item.id\">\n          </el-option>\n        </el-select>\n        <el-input v-model=\"tableData.param.userName\" clearable placeholder=\"请输入学号\" size=\"medium\"\n                  style=\"width: 200px;margin-left: 10px\"></el-input>\n        <el-button size=\"medium\" type=\"primary\" class=\"ml10\" icon=\"el-icon-search\" @click=\"getTableData()\">\n          查询\n        </el-button>\n      </div>\n\n      <el-table :data=\"tableData.data\" v-loading=\"tableData.loading\" style=\"width: 100%;min-height:calc(100vh - 320px)\">\n        <el-table-column type=\"index\" label=\"序号\" align=\"center\" width=\"60\"/>\n        <el-table-column prop=\"userName\" label=\"学号\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"courseName\" label=\"课程\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <!--        <el-table-column prop=\"courseId\" label=\"课程ID\" align=\"center\" show-overflow-tooltip></el-table-column>-->\n        <el-table-column prop=\"enrollmentDate\" label=\"选课日期\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"ordinaryGrade\" label=\"平时成绩\" align=\"center\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.ordinaryGrade\">{{scope.row.ordinaryGrade}}</span>\n            <el-tag v-else type=\"info\">暂未结课</el-tag>\n          </template>\n        </el-table-column>\n<!--        <el-table-column prop=\"examGrade\" label=\"考试成绩\" align=\"center\" show-overflow-tooltip>-->\n<!--          <template slot-scope=\"scope\">-->\n<!--            <span v-if=\"scope.row.examGrade\">{{scope.row.examGrade}}</span>-->\n<!--            <el-tag v-else type=\"info\">暂未结课</el-tag>-->\n<!--          </template>-->\n<!--        </el-table-column>-->\n<!--        <el-table-column prop=\"grade\" label=\"总分\" align=\"center\" show-overflow-tooltip>-->\n<!--          <template slot-scope=\"scope\">-->\n<!--            <span v-if=\"scope.row.grade\">{{scope.row.grade}}</span>-->\n<!--            <el-tag v-else type=\"info\">暂未结课</el-tag>-->\n<!--          </template>-->\n<!--        </el-table-column>-->\n        <el-table-column label=\"操作\" align=\"center\" width=\"200px\">\n          <template #default=\"scope\">\n            <el-button size=\"small\"\n                       type=\"text\"\n                       icon=\"el-icon-help\"\n                       @click=\"openUpdate(scope.row)\">评分\n            </el-button>\n            <el-button size=\"small\"\n                       type=\"text\"\n                       icon=\"el-icon-delete\"\n                       v-if=\"scope.row.courseStatus === 1\"\n                       @click=\"onRowDel(scope.row)\">退课\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-pagination\n          @size-change=\"onHandleSizeChange\"\n          @current-change=\"onHandleCurrentChange\"\n          class=\"mt15\"\n          :pager-count=\"5\"\n          :page-sizes=\"[10, 20, 30]\"\n          v-model:current-page=\"tableData.param.pageNum\"\n          background\n          v-model:page-size=\"tableData.param.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"tableData.total\"\n      >\n      </el-pagination>\n    </el-card>\n\n    <MyCoursesDialog ref=\"MyCoursesDialogRef\" @refresh=\"getTableData()\"/>\n  </div>\n</template>\n\n<script>\nimport {Message, MessageBox} from \"element-ui\";\nimport {delCourses, getCourses} from \"@/api/scas/my_courses\";\nimport {getCreate} from \"@/api/scas/course\";\n\nexport default {\n  name: 'Courses',\n  data() {\n    return {\n      tableData: {\n        data: [],\n        total: 0,\n        loading: false,\n        param: {\n          courseId: '',\n          userName: '',\n          pageNum: 1,\n          pageSize: 10,\n        },\n      },\n      createCourse: [],\n    };\n  },\n  components: {\n    MyCoursesDialog: () => import('./dialog.vue')\n  },\n  mounted() {\n    this.getTableData();\n    this.getCreateCourse();\n  },\n  methods: {\n    /**\n     * 获取菜单\n     */\n    getTableData() {\n      this.tableData.loading = true;\n      getCourses(this.tableData.param).then(res => {\n        this.tableData.data = res.data.list;\n        this.tableData.total = res.data.total;\n        setTimeout(() => {\n          this.tableData.loading = false;\n        }, 500);\n      })\n    },\n    getCreateCourse() {\n      getCreate(1).then(res => {\n        this.createCourse = res.data;\n      })\n    },\n    /**\n     * 修改弹框\n     * @param row\n     */\n    openUpdate(row) {\n      this.$refs.MyCoursesDialogRef.openDialog(row);\n    },\n    /**\n     * 删除字典\n     * @param row\n     */\n    onRowDel(row) {\n      const id = row.id\n      //提示\n      MessageBox.confirm(`此操作将退出，已报名课程：“${row.courseName}”，是否继续?`, '提示', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }).then(() => {\n        //调用删除方法\n        delCourses(id).then(res => {\n          this.getTableData();\n          Message.success(\"删除成功\");\n        })\n      }).catch(() => {\n      });\n    },\n    /**\n     * 修改每页所存数据量的值所触发的函数\n     * @param val\n     */\n    onHandleSizeChange(val) {\n      // 修改页的大小\n      this.tableData.param.pageSize = val;\n      // 按新的pageNo和pageSize进行查询\n      this.getTableData();\n    },\n    /**\n     * 修改当前页所触发的函数\n     * @param val\n     */\n    onHandleCurrentChange(val) {\n      // 更新当前的页\n      this.tableData.param.pageNum = val;\n      // 按新的pageNo和pageSize进行查询\n      this.getTableData();\n    },\n  }\n};\n</script>\n"]}]}