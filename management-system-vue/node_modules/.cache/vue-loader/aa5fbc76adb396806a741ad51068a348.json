{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\dept\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\system\\dept\\index.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7TWVzc2FnZSwgTWVzc2FnZUJveH0gZnJvbSAiZWxlbWVudC11aSI7CmltcG9ydCB7ZGVlcENvcHl9IGZyb20gIkAvdXRpbHMvdXRpbHMiOwppbXBvcnQge2RlbGV0ZURlcHQsIGdldERlcHRMaXN0fSBmcm9tICJAL2FwaS9zeXN0ZW0vZGVwdCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3Bvd2VyTWVudScsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogewogICAgICAgIGRhdGE6IFtdLAogICAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgICAgcGFyYW06IHsKICAgICAgICAgIGRlcHROYW1lOiAnJywKICAgICAgICB9LAogICAgICB9LAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE1lbnVEaWFsb2c6ICgpID0+IGltcG9ydCgnQC92aWV3cy9zeXN0ZW0vZGVwdC9kaWFsb2cudnVlJyksCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRUYWJsZURhdGEoKQogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDojrflj5blrabpmaIKICAgICAqLwogICAgZ2V0VGFibGVEYXRhKCkgewogICAgICB0aGlzLnRhYmxlRGF0YS5sb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0RGVwdExpc3QodGhpcy50YWJsZURhdGEucGFyYW0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnRhYmxlRGF0YS5kYXRhID0gcmVzLmRhdGE7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSwgNTAwKTsKICAgICAgfSkKICAgIH0sCiAgICAvKioKICAgICAqIOa3u+WKoC/kv67mlLkg5a2m6ZmiCiAgICAgKiBAcGFyYW0gZmxhZwogICAgICogQHBhcmFtIHJvdwogICAgICovCiAgICBvbk9wZW5BZGRPckVkaXREZXB0KGZsYWcsIHJvdykgewogICAgICAvL+S4iue6p+WtpumZouaVsOaNruiOt+WPlgogICAgICBjb25zdCBkZXB0RGF0YVMgPSBkZWVwQ29weSh0aGlzLnRhYmxlRGF0YS5kYXRhKQogICAgICBkZXB0RGF0YVMudW5zaGlmdCh7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgZGVwdE5hbWU6ICLml6AiCiAgICAgIH0pCiAgICAgIHRoaXMuJHJlZnMuZGVwdERpYWxvZ1JlZi5kZXB0RGF0YSA9IGRlcHREYXRhUwogICAgICB0aGlzLiRyZWZzLmRlcHREaWFsb2dSZWYub3BlbkRpYWxvZyhmbGFnLCByb3cpCiAgICB9LAogICAgLyoqCiAgICAgKiDliKDpmaQKICAgICAqIEBwYXJhbSByb3cKICAgICAqLwogICAgb25UYWJlbFJvd0RlbChyb3cpIHsKICAgICAgLy/mj5DnpLoKICAgICAgTWVzc2FnZUJveC5jb25maXJtKGDmraTmk43kvZzlsIbmsLjkuYXliKDpmaTlrabpmaLlkI3np7DkuLrvvJrigJwke3Jvdy5kZXB0TmFtZX3igJ3nmoTmlbDmja7vvIzmmK/lkKbnu6fnu60/YCwgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruiupCcsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAvL+iwg+eUqOWIoOmZpOaWueazlQogICAgICAgIGRlbGV0ZURlcHQocm93LmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICBNZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKTsKICAgICAgICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgIH0pOwogICAgfSwKICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/system/dept","sourcesContent":["<template>\n  <div class=\"system-menu-container layout-pd\">\n    <el-card shadow=\"hover\">\n      <div class=\"system-menu-search mb15\">\n        <el-input size=\"medium\" v-model=\"tableData.param.deptName\" placeholder=\"请输入学院名称\" clearable\n                  style=\"max-width: 180px\"></el-input>\n        <el-button size=\"medium\" type=\"primary\" class=\"ml10\" icon=\"el-icon-search\" @click=\"getTableData()\">查询\n        </el-button>\n        <el-button size=\"medium\" type=\"success\" class=\"ml10\" icon=\"el-icon-plus\" v-hasPermi=\"['system:dept:add']\"\n                   @click=\"onOpenAddOrEditDept('add',0)\">\n          新增学院\n        </el-button>\n      </div>\n      <el-table\n        :data=\"tableData.data\"\n        v-loading=\"tableData.loading\"\n        style=\"width: 100%\"\n        border\n        row-key=\"id\"\n        :default-expand-all=\"true\"\n        :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\n      >\n        <el-table-column prop=\"deptName\" label=\"学院名称\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"leader\" label=\"负责人\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"phone\" label=\"联系电话\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"email\" label=\"邮箱\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"status\" label=\"学院状态\" align=\"center\" show-overflow-tooltip>\n          <template #default=\"scope\">\n            <el-tag v-if=\"scope.row.status\" type=\"success\">正常</el-tag>\n            <el-tag v-else type=\"danger\">停用</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"createBy\" label=\"创建者\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"createTime\" label=\"创建时间\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"updateBy\" label=\"更新者\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"updateTime\" label=\"更新时间\" align=\"center\" show-overflow-tooltip></el-table-column>\n        <el-table-column label=\"操作\" width=\"200px\" align=\"center\">\n          <template #default=\"scope\">\n            <el-button size=\"small\" type=\"text\"\n                       v-if=\"scope.row.menuType!=2\"\n                       v-hasPermi=\"['system:dept:add']\"\n                       icon=\"el-icon-plus\"\n                       @click=\"onOpenAddOrEditDept('add',scope.row)\">新增\n            </el-button>\n            <el-button size=\"small\" type=\"text\" @click=\"onOpenAddOrEditDept('edit', scope.row)\"\n                       v-hasPermi=\"['system:dept:update']\" icon=\"el-icon-edit\">修改\n            </el-button>\n            <el-button size=\"small\" type=\"text\" @click=\"onTabelRowDel(scope.row)\" v-hasPermi=\"['system:dept:delete']\"\n                       icon=\"el-icon-delete\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <MenuDialog ref=\"deptDialogRef\" @refresh=\"getTableData()\"/>\n  </div>\n</template>\n\n<script>\nimport {Message, MessageBox} from \"element-ui\";\nimport {deepCopy} from \"@/utils/utils\";\nimport {deleteDept, getDeptList} from \"@/api/system/dept\";\n\nexport default {\n  name: 'powerMenu',\n  data() {\n    return {\n      tableData: {\n        data: [],\n        loading: true,\n        param: {\n          deptName: '',\n        },\n      },\n    };\n  },\n  components: {\n    MenuDialog: () => import('@/views/system/dept/dialog.vue'),\n  },\n  created() {\n    this.getTableData()\n  },\n  methods: {\n    /**\n     * 获取学院\n     */\n    getTableData() {\n      this.tableData.loading = true;\n      getDeptList(this.tableData.param).then(res => {\n        this.tableData.data = res.data;\n        setTimeout(() => {\n          this.tableData.loading = false;\n        }, 500);\n      })\n    },\n    /**\n     * 添加/修改 学院\n     * @param flag\n     * @param row\n     */\n    onOpenAddOrEditDept(flag, row) {\n      //上级学院数据获取\n      const deptDataS = deepCopy(this.tableData.data)\n      deptDataS.unshift({\n        id: 0,\n        deptName: \"无\"\n      })\n      this.$refs.deptDialogRef.deptData = deptDataS\n      this.$refs.deptDialogRef.openDialog(flag, row)\n    },\n    /**\n     * 删除\n     * @param row\n     */\n    onTabelRowDel(row) {\n      //提示\n      MessageBox.confirm(`此操作将永久删除学院名称为：“${row.deptName}”的数据，是否继续?`, '提示', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }).then(() => {\n        //调用删除方法\n        deleteDept(row.id).then(res => {\n          if (res.code === 200) {\n            Message.success(\"删除成功\");\n          }\n          this.getTableData();\n        })\n      }).catch(() => {\n      });\n    },\n  }\n};\n</script>\n"]}]}