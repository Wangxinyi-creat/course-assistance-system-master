{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\login\\dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\views\\login\\dialog.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7cmVnaXN0ZXJ9IGZyb20gIkAvYXBpL3N5c3RlbS91c2VyIjsKaW1wb3J0IHtNZXNzYWdlfSBmcm9tICJlbGVtZW50LXVpIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBkaWN0U2VsZWN0OiAoKSA9PiBpbXBvcnQoIkAvY29tcG9uZW50L2RpY3RTZWxlY3QvaW5kZXgudnVlIiksCiAgICB1cGxvYWRJbWc6ICgpID0+IGltcG9ydCgiQC9jb21wb25lbnQvdXBsb2FkLWltZy9pbmRleC52dWUiKQogIH0sCiAgbmFtZTogJ3VzZXJEaWFsb2cnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2c6IHsKICAgICAgICBpc1Nob3dEaWFsb2c6IGZhbHNlLAogICAgICAgIHR5cGU6ICcnLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBzdWJtaXRUeHQ6ICcnLAogICAgICB9LAogICAgICBydWxlRm9ybTogewogICAgICAgIHVzZXI6IHsKICAgICAgICAgIHVzZXJOYW1lOiAnJywgLy8g6LSm5oi35ZCN56ewCiAgICAgICAgICBuaWNrTmFtZTogJycsIC8vIOeUqOaIt+aYteensAogICAgICAgICAgcGFzc3dvcmQ6ICcnLCAvLyDlr4bnoIEKICAgICAgICAgIHBob25lOiAnJywgLy8g5omL5py65Y+3CiAgICAgICAgICBlbWFpbDogJycsIC8vIOmCrueusQogICAgICAgICAgc2V4OiAnJywgLy8g5oCn5YirCiAgICAgICAgICBoZWFkU3JjOiAnJywgLy8g5aS05YOPCiAgICAgICAgICBpZGVudGl0eTogJycsIC8vIOi6q+S7vQogICAgICAgICAgbWFqb3I6ICcnLCAvLyDkuJPkuJoKICAgICAgICAgIGNsYXNzTmFtZTogJycsIC8vIOePree6pwogICAgICAgICAgc3RhdHVzOiB0cnVlLCAvLyDnlKjmiLfnirbmgIEKICAgICAgICB9LAogICAgICAgIHJvbGVTaWduOiBbXSwvL+WFs+iBlOinkuiJsgogICAgICB9LAogICAgICBkZXB0TGlzdDogW10sCiAgICAgIHJvbGVzOiBbXSwKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VyTmFtZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpei0puWPt+WQjeensCcsIHRyaWdnZXI6ICdibHVyJ31dLAogICAgICAgIHBhc3N3b3JkOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywgdHJpZ2dlcjogJ2JsdXInfV0sCiAgICAgICAgc2V4OiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5oCn5YirJywgdHJpZ2dlcjogJ2NoYW5nZSd9XSwKICAgICAgICBwaG9uZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeaJi+acuuWPtycsIHRyaWdnZXI6ICdibHVyJ31dLAogICAgICAgIGlkZW50aXR5OiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup6Lqr5Lu9JywgdHJpZ2dlcjogJ2NoYW5nZSd9XSwKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog5omT5byA5by55qGGCiAgICAgKi8KICAgIG9wZW5EaWFsb2coKSB7CiAgICAgIHRoaXMucnVsZUZvcm0gPSB7CiAgICAgICAgdXNlcjogewogICAgICAgICAgdXNlck5hbWU6ICcnLCAvLyDotKbmiLflkI3np7AKICAgICAgICAgIG5pY2tOYW1lOiAnJywgLy8g55So5oi35pi156ewCiAgICAgICAgICBwYXNzd29yZDogJycsIC8vIOWvhueggQogICAgICAgICAgcGhvbmU6ICcnLCAvLyDmiYvmnLrlj7cKICAgICAgICAgIGVtYWlsOiAnJywgLy8g6YKu566xCiAgICAgICAgICBzZXg6ICcnLCAvLyDmgKfliKsKICAgICAgICAgIGhlYWRTcmM6ICcnLCAvLyDlpLTlg48KICAgICAgICAgIGlkZW50aXR5OiAnJywgLy8g6Lqr5Lu9CiAgICAgICAgICBtYWpvcjogJycsIC8vIOS4k+S4mgogICAgICAgICAgY2xhc3NOYW1lOiAnJywgLy8g54+t57qnCiAgICAgICAgICBzdGF0dXM6IHRydWUsIC8vIOeUqOaIt+eKtuaAgQogICAgICAgIH0sCiAgICAgICAgcm9sZVNpZ246IFtdLC8v5YWz6IGU6KeS6ImyCiAgICAgIH0KICAgICAgdGhpcy5kaWFsb2cudGl0bGUgPSAn5rOo5YaM55So5oi3JzsKICAgICAgdGhpcy5kaWFsb2cuc3VibWl0VHh0ID0gJ+azqCDlhownOwogICAgICB0aGlzLmRpYWxvZy5pc1Nob3dEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIC8qKgogICAgICog5YWz6Zet5by55qGGCiAgICAgKi8KICAgIG9uQ2FuY2VsKCkgewogICAgICB0aGlzLmRpYWxvZy5pc1Nob3dEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kcmVmcy51c2VyRGlhbG9nRm9ybVJlZi5yZXNldEZpZWxkcygpCiAgICB9LAogICAgLyoqCiAgICAgKiDmlrDlop4v5L+u5pS5ICDkv53lrZgKICAgICAqLwogICAgb25TdWJtaXQoKSB7CiAgICAgIHRoaXMuJHJlZnNbInVzZXJEaWFsb2dGb3JtUmVmIl0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKHRoaXMucnVsZUZvcm0udXNlci5pZGVudGl0eSA9PT0gJ+iAgeW4iCcpewogICAgICAgICAgICB0aGlzLnJ1bGVGb3JtLnJvbGVTaWduID0gWzJdCiAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIHRoaXMucnVsZUZvcm0ucm9sZVNpZ24gPSBbM10KICAgICAgICAgIH0KICAgICAgICAgIHJlZ2lzdGVyKHRoaXMucnVsZUZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICBNZXNzYWdlLnN1Y2Nlc3MocmVzLm1lc3NhZ2UpOwogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3JlZnJlc2gnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMub25DYW5jZWwoKTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["dialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dialog.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n  <div class=\"system-user-dialog-container\">\n    <el-dialog :title=\"dialog.title\"\n               :visible.sync=\"dialog.isShowDialog\"\n               :close-on-click-modal=\"false\"\n               width=\"769px\">\n      <el-form ref=\"userDialogFormRef\" :model=\"ruleForm.user\" :rules=\"rules\" size=\"default\" label-width=\"90px\">\n        <el-row :gutter=\"35\">\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n            <el-form-item label=\"账户名称\" prop=\"userName\">\n              <el-input v-model=\"ruleForm.user.userName\" placeholder=\"请输入账户名称/学工号\" clearable\n                        maxlength=\"20\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n            <el-form-item label=\"用户昵称\" prop=\"nickName\">\n              <el-input v-model=\"ruleForm.user.nickName\" placeholder=\"请输入用户昵称\" clearable\n                        maxlength=\"20\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n            <el-form-item label=\"性别\" prop=\"sex\">\n              <dictSelect v-model=\"ruleForm.user.sex\" dictType=\"sex\"\n                          placeholder=\"请选择性别\"></dictSelect>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n            <el-form-item label=\"用户密码\" prop=\"password\">\n              <el-input v-model=\"ruleForm.user.password\"\n                        placeholder=\"请输入用户密码\"\n                        type=\"password\"\n                        maxlength=\"16\"\n                        clearable></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n            <el-form-item label=\"手机号\" prop=\"phone\">\n              <el-input v-model=\"ruleForm.user.phone\" placeholder=\"请输入手机号\" clearable\n                        maxlength=\"11\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n            <el-form-item label=\"邮箱\" prop=\"email\">\n              <el-input v-model=\"ruleForm.user.email\"  placeholder=\"请输入\"\n                        clearable></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n            <el-form-item label=\"所属学院\" prop=\"deptId\">\n              <el-cascader ref=\"ownArea\"\n                           :props=\"{value:'id', label: 'deptName', children: 'children',emitPath: false}\"\n                           :options=\"deptList\"\n                           v-model=\"ruleForm.user.deptId\"\n                           style=\"width: 100%\"\n                           props.expandTrigger=\"hover\"\n                           clearable\n                           placeholder=\"请选择所属学院\">\n              </el-cascader>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n            <el-form-item label=\"身份\" prop=\"identity\">\n              <el-select v-model=\"ruleForm.user.identity\" placeholder=\"请选择身份\" style=\"width: 100%\">\n                <el-option label=\"学生\" value=\"学生\"></el-option>\n                <el-option label=\"老师\" value=\"老师\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\" v-if=\"ruleForm.user.identity === '学生'\">\n            <el-form-item label=\"专业\" prop=\"major\">\n              <el-input v-model=\"ruleForm.user.major\" placeholder=\"请输入专业\" clearable></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\" v-if=\"ruleForm.user.identity === '学生'\">\n            <el-form-item label=\"班级\" prop=\"className\">\n              <el-input v-model=\"ruleForm.user.className\" placeholder=\"请输入班级\" clearable></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"mb20\">\n            <el-form-item label=\"头像\" prop=\"headSrc\">\n              <upload-img v-model=\"ruleForm.user.headSrc\"/>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <template #footer>\n\t\t\t\t<span class=\"dialog-footer\">\n\t\t\t\t\t<el-button @click=\"onCancel\" size=\"default\">取 消</el-button>\n\t\t\t\t\t<el-button type=\"primary\" @click=\"onSubmit()\" size=\"default\">{{ dialog.submitTxt }}</el-button>\n\t\t\t\t</span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {register} from \"@/api/system/user\";\nimport {Message} from \"element-ui\";\n\nexport default {\n  components: {\n    dictSelect: () => import(\"@/component/dictSelect/index.vue\"),\n    uploadImg: () => import(\"@/component/upload-img/index.vue\")\n  },\n  name: 'userDialog',\n  data() {\n    return {\n      dialog: {\n        isShowDialog: false,\n        type: '',\n        title: '',\n        submitTxt: '',\n      },\n      ruleForm: {\n        user: {\n          userName: '', // 账户名称\n          nickName: '', // 用户昵称\n          password: '', // 密码\n          phone: '', // 手机号\n          email: '', // 邮箱\n          sex: '', // 性别\n          headSrc: '', // 头像\n          identity: '', // 身份\n          major: '', // 专业\n          className: '', // 班级\n          status: true, // 用户状态\n        },\n        roleSign: [],//关联角色\n      },\n      deptList: [],\n      roles: [],\n      rules: {\n        userName: [{required: true, message: '请输入账号名称', trigger: 'blur'}],\n        password: [{required: true, message: '请输入密码', trigger: 'blur'}],\n        sex: [{required: true, message: '请选择性别', trigger: 'change'}],\n        phone: [{required: true, message: '请输入手机号', trigger: 'blur'}],\n        identity: [{required: true, message: '请选择身份', trigger: 'change'}],\n      }\n    };\n  },\n  methods: {\n    /**\n     * 打开弹框\n     */\n    openDialog() {\n      this.ruleForm = {\n        user: {\n          userName: '', // 账户名称\n          nickName: '', // 用户昵称\n          password: '', // 密码\n          phone: '', // 手机号\n          email: '', // 邮箱\n          sex: '', // 性别\n          headSrc: '', // 头像\n          identity: '', // 身份\n          major: '', // 专业\n          className: '', // 班级\n          status: true, // 用户状态\n        },\n        roleSign: [],//关联角色\n      }\n      this.dialog.title = '注册用户';\n      this.dialog.submitTxt = '注 册';\n      this.dialog.isShowDialog = true;\n    },\n    /**\n     * 关闭弹框\n     */\n    onCancel() {\n      this.dialog.isShowDialog = false;\n      this.$refs.userDialogFormRef.resetFields()\n    },\n    /**\n     * 新增/修改  保存\n     */\n    onSubmit() {\n      this.$refs[\"userDialogFormRef\"].validate(valid => {\n        if (valid) {\n          if (this.ruleForm.user.identity === '老师'){\n            this.ruleForm.roleSign = [2]\n          }else {\n            this.ruleForm.roleSign = [3]\n          }\n          register(this.ruleForm).then(res => {\n            if (res.code === 200) {\n              Message.success(res.message);\n              this.$emit('refresh');\n            }\n          })\n          this.onCancel();\n        }\n      })\n    }\n  }\n};\n</script>\n\n<style>\n.el-cascader-panel {\n  height: 200px;\n}\n</style>\n\n"]}]}