{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navBars\\topBar\\breadcrumb.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navBars\\topBar\\breadcrumb.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7TG9jYWx9IGZyb20gJ0AvdXRpbHMvc3RvcmFnZS5qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xheW91dEJyZWFkY3J1bWInLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBicmVhZGNydW1iTGlzdDogW10sCiAgICAgIHJvdXRlU3BsaXQ6IFtdLAogICAgICByb3V0ZVNwbGl0Rmlyc3Q6ICcnLAogICAgICByb3V0ZVNwbGl0SW5kZXg6IDEsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOiOt+WPluW4g+WxgOmFjee9ruS/oeaBrwogICAgZ2V0VGhlbWVDb25maWcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZzsKICAgIH0sCiAgICAvLyDliqjmgIHorr7nva7nu4/lhbjjgIHmqKrlkJHluIPlsYDkuI3mmL7npLoKICAgIGlzU2hvd0JyZWFkY3J1bWIoKSB7CiAgICAgIGNvbnN0IHtsYXlvdXQsIGlzQnJlYWRjcnVtYn0gPSB0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZzsKICAgICAgaWYgKGxheW91dCA9PT0gJ2NsYXNzaWMnIHx8IGxheW91dCA9PT0gJ3RyYW5zdmVyc2UnKSB7CiAgICAgICAgcmV0dXJuICdub25lJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gaXNCcmVhZGNydW1iID8gJycgOiAnbm9uZSc7CiAgICAgIH0KICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0Um91dGVTcGxpdCh0aGlzLiRyb3V0ZS5wYXRoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGJyZWFkY3J1bWIg5b2T5YmN6aG554K55Ye75pe2CiAgICBvbkJyZWFkY3J1bWJDbGljayh2KSB7CiAgICAgIGNvbnN0IHtyZWRpcmVjdCwgcGF0aH0gPSB2OwogICAgICBpZiAocmVkaXJlY3QpIHRoaXMuJHJvdXRlci5wdXNoKHJlZGlyZWN0KTsKICAgICAgZWxzZSB0aGlzLiRyb3V0ZXIucHVzaChwYXRoKTsKICAgIH0sCiAgICAvLyBicmVhZGNydW1iIGljb24g54K55Ye76I+c5Y2V5bGV5byA5LiO5pS26LW3CiAgICBvblRoZW1lQ29uZmlnQ2hhbmdlKCkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZy5pc0NvbGxhcHNlID0gIXRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnLmlzQ29sbGFwc2U7CiAgICAgIHRoaXMuc2V0TG9jYWxUaGVtZUNvbmZpZygpOwogICAgfSwKICAgIC8vIOWtmOWCqOW4g+WxgOmFjee9rgogICAgc2V0TG9jYWxUaGVtZUNvbmZpZygpIHsKICAgICAgTG9jYWwucmVtb3ZlKCd0aGVtZUNvbmZpZ1ByZXYnKTsKICAgICAgTG9jYWwuc2V0KCd0aGVtZUNvbmZpZ1ByZXYnLCB0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZyk7CiAgICB9LAogICAgLy8g6YCS5b2S6K6+572uIGJyZWFkY3J1bWIKICAgIGdldEJyZWFkY3J1bWJMaXN0KGFycikgewogICAgICBhcnIubWFwKChpdGVtKSA9PiB7CiAgICAgICAgdGhpcy5yb3V0ZVNwbGl0Lm1hcCgodiwgaywgYXJycykgPT4gewogICAgICAgICAgaWYgKHRoaXMucm91dGVTcGxpdEZpcnN0ID09PSBpdGVtLnBhdGgpIHsKICAgICAgICAgICAgdGhpcy5yb3V0ZVNwbGl0Rmlyc3QgKz0gYC8ke2FycnNbdGhpcy5yb3V0ZVNwbGl0SW5kZXhdfWA7CiAgICAgICAgICAgIHRoaXMuYnJlYWRjcnVtYkxpc3QucHVzaChpdGVtKTsKICAgICAgICAgICAgdGhpcy5yb3V0ZVNwbGl0SW5kZXgrKzsKICAgICAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIHRoaXMuZ2V0QnJlYWRjcnVtYkxpc3QoaXRlbS5jaGlsZHJlbik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOW9k+WJjei3r+eUseWIhuWJsuWkhOeQhgogICAgaW5pdFJvdXRlU3BsaXQocGF0aCkgewogICAgICB0aGlzLmJyZWFkY3J1bWJMaXN0ID0gWwogICAgICAgIHsKICAgICAgICAgIHBhdGg6ICcvJywKICAgICAgICAgIG1ldGE6IHsKICAgICAgICAgICAgdGl0bGU6ICLpppbpobUiLAogICAgICAgICAgICBpY29uOiB0aGlzLiRzdG9yZS5zdGF0ZS5yb3V0ZXNMaXN0LnJvdXRlc0xpc3RbMF0ubWV0YS5pY29uLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICBdOwogICAgICB0aGlzLnJvdXRlU3BsaXQgPSBwYXRoLnNwbGl0KCcvJyk7CiAgICAgIHRoaXMucm91dGVTcGxpdC5zaGlmdCgpOwogICAgICB0aGlzLnJvdXRlU3BsaXRGaXJzdCA9IGAvJHt0aGlzLnJvdXRlU3BsaXRbMF19YDsKICAgICAgdGhpcy5yb3V0ZVNwbGl0SW5kZXggPSAxOwogICAgICB0aGlzLmdldEJyZWFkY3J1bWJMaXN0KHRoaXMuJHN0b3JlLnN0YXRlLnJvdXRlc0xpc3Qucm91dGVzTGlzdCk7CiAgICB9LAogIH0sCiAgLy8g55uR5ZCs6Lev55Sx55qE5Y+Y5YyWCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogewogICAgICBoYW5kbGVyKG5ld1ZhbCkgewogICAgICAgIHRoaXMuaW5pdFJvdXRlU3BsaXQobmV3VmFsLnBhdGgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["breadcrumb.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"breadcrumb.vue","sourceRoot":"src/layout/navBars/topBar","sourcesContent":["<template>\n  <div class=\"layout-navbars-breadcrumb\" :style=\"{ display: isShowBreadcrumb }\">\n    <i\n        class=\"layout-navbars-breadcrumb-icon\"\n        :class=\"getThemeConfig.isCollapse ? 'el-icon-s-unfold' : 'el-icon-s-fold'\"\n        @click=\"onThemeConfigChange\"\n    ></i>\n    <el-breadcrumb class=\"layout-navbars-breadcrumb-hide\">\n      <transition-group name=\"breadcrumb\" mode=\"out-in\">\n        <el-breadcrumb-item v-for=\"(v, k) in breadcrumbList\" :key=\"v.path\">\n\t\t\t\t\t<span v-if=\"k === breadcrumbList.length - 1\" class=\"layout-navbars-breadcrumb-span\">\n\t\t\t\t\t\t<i :class=\"v.meta.icon\" class=\"layout-navbars-breadcrumb-iconfont\"\n               v-if=\"getThemeConfig.isBreadcrumbIcon\"></i>{{ v.meta.title }}\n\t\t\t\t\t</span>\n          <a v-else @click.prevent=\"onBreadcrumbClick(v)\">\n            <i :class=\"v.meta.icon\" class=\"layout-navbars-breadcrumb-iconfont\"\n               v-if=\"getThemeConfig.isBreadcrumbIcon\"></i>{{ v.meta.title }}\n          </a>\n        </el-breadcrumb-item>\n      </transition-group>\n    </el-breadcrumb>\n  </div>\n</template>\n\n<script>\nimport {Local} from '@/utils/storage.js';\n\nexport default {\n  name: 'layoutBreadcrumb',\n  data() {\n    return {\n      breadcrumbList: [],\n      routeSplit: [],\n      routeSplitFirst: '',\n      routeSplitIndex: 1,\n    };\n  },\n  computed: {\n    // 获取布局配置信息\n    getThemeConfig() {\n      return this.$store.state.themeConfig.themeConfig;\n    },\n    // 动态设置经典、横向布局不显示\n    isShowBreadcrumb() {\n      const {layout, isBreadcrumb} = this.$store.state.themeConfig.themeConfig;\n      if (layout === 'classic' || layout === 'transverse') {\n        return 'none';\n      } else {\n        return isBreadcrumb ? '' : 'none';\n      }\n    },\n  },\n  mounted() {\n    this.initRouteSplit(this.$route.path);\n  },\n  methods: {\n    // breadcrumb 当前项点击时\n    onBreadcrumbClick(v) {\n      const {redirect, path} = v;\n      if (redirect) this.$router.push(redirect);\n      else this.$router.push(path);\n    },\n    // breadcrumb icon 点击菜单展开与收起\n    onThemeConfigChange() {\n      this.$store.state.themeConfig.themeConfig.isCollapse = !this.$store.state.themeConfig.themeConfig.isCollapse;\n      this.setLocalThemeConfig();\n    },\n    // 存储布局配置\n    setLocalThemeConfig() {\n      Local.remove('themeConfigPrev');\n      Local.set('themeConfigPrev', this.$store.state.themeConfig.themeConfig);\n    },\n    // 递归设置 breadcrumb\n    getBreadcrumbList(arr) {\n      arr.map((item) => {\n        this.routeSplit.map((v, k, arrs) => {\n          if (this.routeSplitFirst === item.path) {\n            this.routeSplitFirst += `/${arrs[this.routeSplitIndex]}`;\n            this.breadcrumbList.push(item);\n            this.routeSplitIndex++;\n            if (item.children) this.getBreadcrumbList(item.children);\n          }\n        });\n      });\n    },\n    // 当前路由分割处理\n    initRouteSplit(path) {\n      this.breadcrumbList = [\n        {\n          path: '/',\n          meta: {\n            title: \"首页\",\n            icon: this.$store.state.routesList.routesList[0].meta.icon,\n          },\n        },\n      ];\n      this.routeSplit = path.split('/');\n      this.routeSplit.shift();\n      this.routeSplitFirst = `/${this.routeSplit[0]}`;\n      this.routeSplitIndex = 1;\n      this.getBreadcrumbList(this.$store.state.routesList.routesList);\n    },\n  },\n  // 监听路由的变化\n  watch: {\n    $route: {\n      handler(newVal) {\n        this.initRouteSplit(newVal.path);\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.layout-navbars-breadcrumb {\n  flex: 1;\n  height: inherit;\n  display: flex;\n  align-items: center;\n  padding-left: 15px;\n\n  .layout-navbars-breadcrumb-icon {\n    cursor: pointer;\n    font-size: 18px;\n    margin-right: 15px;\n    color: var(--prev-bg-topBarColor);\n    opacity: 0.8;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n\n  .layout-navbars-breadcrumb-span {\n    opacity: 0.7;\n    color: var(--prev-bg-topBarColor);\n  }\n\n  .layout-navbars-breadcrumb-iconfont {\n    font-size: 14px;\n    margin-right: 5px;\n  }\n}\n</style>\n"]}]}