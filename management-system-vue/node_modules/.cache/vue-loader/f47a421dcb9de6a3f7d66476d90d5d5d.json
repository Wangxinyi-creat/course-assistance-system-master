{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\component\\aside.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\component\\aside.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWZXJ0aWNhbCBmcm9tICdAL2xheW91dC9uYXZNZW51L3ZlcnRpY2FsLnZ1ZSc7CmltcG9ydCBMb2dvIGZyb20gJ0AvbGF5b3V0L2xvZ28vaW5kZXgudnVlJzsKaW1wb3J0IHtnZXRVc2VyTWVudX0gZnJvbSAiQC9hcGkvc3lzdGVtL21lbnUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsYXlvdXRBc2lkZScsCiAgY29tcG9uZW50czoge1ZlcnRpY2FsLCBMb2dvfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVudUxpc3Q6IFtdLAogICAgICBjbGllbnRXaWR0aDogJycsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOiuvue9ruW3puS+p+iPnOWNleeahOWFt+S9k+WuveW6pgogICAgc2V0Q29sbGFwc2VXaWR0aCgpIHsKICAgICAgbGV0IHtsYXlvdXQsIGlzQ29sbGFwc2V9ID0gdGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWc7CiAgICAgIGxldCBhc2lkZUJyQ29sb3IgPSAnJzsKICAgICAgbGF5b3V0ID09PSAnY2xhc3NpYycgfHwgbGF5b3V0ID09PSAnY29sdW1ucycgPyAoYXNpZGVCckNvbG9yID0gJ2xheW91dC1lbC1hc2lkZS1ici1jb2xvcicpIDogJyc7CgogICAgICBpZiAobGF5b3V0ID09PSAnY29sdW1ucycpIHsKICAgICAgICAvLyDliIbmoI/luIPlsYDvvIzoj5zljZXmlLbotbfml7blrr3luqbnu5kgMXB4CiAgICAgICAgaWYgKGlzQ29sbGFwc2UpIHsKICAgICAgICAgIHJldHVybiBbJ2xheW91dC1hc2lkZS13aWR0aDEnLCBhc2lkZUJyQ29sb3JdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gWydsYXlvdXQtYXNpZGUtd2lkdGgtZGVmYXVsdCcsIGFzaWRlQnJDb2xvcl07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWFtuWug+W4g+WxgOe7mSA2NHB4CiAgICAgICAgaWYgKGlzQ29sbGFwc2UpIHsKICAgICAgICAgIHJldHVybiBbJ2xheW91dC1hc2lkZS13aWR0aDY0JywgYXNpZGVCckNvbG9yXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIFsnbGF5b3V0LWFzaWRlLXdpZHRoLWRlZmF1bHQnLCBhc2lkZUJyQ29sb3JdOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOiuvue9riBsb2dvIOaYr+WQpuaYvuekugogICAgc2V0U2hvd0xvZ28oKSB7CiAgICAgIGxldCB7bGF5b3V0LCBpc1Nob3dMb2dvfSA9IHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnOwogICAgICByZXR1cm4gKGlzU2hvd0xvZ28gJiYgbGF5b3V0ID09PSAnZGVmYXVsdHMnKSB8fCAoaXNTaG93TG9nbyAmJiBsYXlvdXQgPT09ICdjb2x1bW5zJyk7CiAgICB9LAogICAgLy8g6I635Y+W5biD5bGA6YWN572u5L+h5oGvCiAgICBnZXRUaGVtZUNvbmZpZygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXRNZW51Rml4ZWQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7CiAgICB0aGlzLnNldEZpbHRlclJvdXRlcygpOwogICAgdGhpcy5idXMuJG9uKCdzZXRTZW5kQ29sdW1uc0NoaWxkcmVuJywgKHJlcykgPT4gewogICAgICB0aGlzLm1lbnVMaXN0ID0gcmVzLmNoaWxkcmVuOwogICAgfSk7CiAgICB0aGlzLmJ1cy4kb24oJ2xheW91dE1vYmlsZVJlc2l6ZScsIChyZXMpID0+IHsKICAgICAgdGhpcy5pbml0TWVudUZpeGVkKHJlcy5jbGllbnRXaWR0aCk7CiAgICB9KTsKICAgIC8vIOiPnOWNlea7muWKqOadoeebkeWQrAogICAgdGhpcy5idXMuJG9uKCd1cGRhdGVFbFNjcm9sbEJhcicsICgpID0+IHsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5sYXlvdXRBc2lkZVJlZi51cGRhdGUoKTsKICAgICAgfSwgMzAwKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6K6+572uL+i/h+a7pOi3r+eUse+8iOmdnumdmeaAgei3r+eUsS/mmK/lkKbmmL7npLrlnKjoj5zljZXkuK3vvIkKICAgIHNldEZpbHRlclJvdXRlcygpIHsKICAgICAgZ2V0VXNlck1lbnUoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5tZW51TGlzdCA9IHJlcy5kYXRhLmZpbHRlcihpdGVtPT4haXRlbS5pc0hpZGUpOwogICAgICB9KQogICAgfSwKICAgIC8vIOiuvue9ruiPnOWNleWvvOiIquaYr+WQpuWbuuWumu+8iOenu+WKqOerr++8iQogICAgaW5pdE1lbnVGaXhlZChjbGllbnRXaWR0aCkgewogICAgICB0aGlzLmNsaWVudFdpZHRoID0gY2xpZW50V2lkdGg7CiAgICB9LAogIH0sCiAgLy8g6aG16Z2i6ZSA5q+B5pe2CiAgZGVzdHJveWVkKCkgewogICAgLy8g5Y+W5raI6I+c5Y2V5rua5Yqo5p2h55uR5ZCsCiAgICB0aGlzLmJ1cy4kb2ZmKCd1cGRhdGVFbFNjcm9sbEJhcicsICgpID0+IHsKICAgIH0pOwogIH0sCn07Cg=="},{"version":3,"sources":["aside.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"aside.vue","sourceRoot":"src/layout/component","sourcesContent":["<template>\n  <el-aside class=\"layout-aside\" :class=\"setCollapseWidth\" v-if=\"clientWidth > 1000\">\n    <Logo v-if=\"setShowLogo\"/>\n    <el-scrollbar class=\"flex-auto\" ref=\"layoutAsideRef\">\n      <Vertical :menuList=\"menuList\" :class=\"setCollapseWidth\"/>\n    </el-scrollbar>\n  </el-aside>\n  <el-drawer :visible.sync=\"getThemeConfig.isCollapse\" :with-header=\"false\" direction=\"ltr\" size=\"220px\" v-else>\n    <el-aside class=\"layout-aside w100 h100\">\n      <Logo v-if=\"setShowLogo\"/>\n      <el-scrollbar class=\"flex-auto\" ref=\"layoutAsideRef\">\n        <Vertical :menuList=\"menuList\"/>\n      </el-scrollbar>\n    </el-aside>\n  </el-drawer>\n</template>\n\n<script>\nimport Vertical from '@/layout/navMenu/vertical.vue';\nimport Logo from '@/layout/logo/index.vue';\nimport {getUserMenu} from \"@/api/system/menu\";\n\nexport default {\n  name: 'layoutAside',\n  components: {Vertical, Logo},\n  data() {\n    return {\n      menuList: [],\n      clientWidth: '',\n    };\n  },\n  computed: {\n    // 设置左侧菜单的具体宽度\n    setCollapseWidth() {\n      let {layout, isCollapse} = this.$store.state.themeConfig.themeConfig;\n      let asideBrColor = '';\n      layout === 'classic' || layout === 'columns' ? (asideBrColor = 'layout-el-aside-br-color') : '';\n\n      if (layout === 'columns') {\n        // 分栏布局，菜单收起时宽度给 1px\n        if (isCollapse) {\n          return ['layout-aside-width1', asideBrColor];\n        } else {\n          return ['layout-aside-width-default', asideBrColor];\n        }\n      } else {\n        // 其它布局给 64px\n        if (isCollapse) {\n          return ['layout-aside-width64', asideBrColor];\n        } else {\n          return ['layout-aside-width-default', asideBrColor];\n        }\n      }\n    },\n    // 设置 logo 是否显示\n    setShowLogo() {\n      let {layout, isShowLogo} = this.$store.state.themeConfig.themeConfig;\n      return (isShowLogo && layout === 'defaults') || (isShowLogo && layout === 'columns');\n    },\n    // 获取布局配置信息\n    getThemeConfig() {\n      return this.$store.state.themeConfig.themeConfig;\n    },\n  },\n  created() {\n    this.initMenuFixed(document.body.clientWidth);\n    this.setFilterRoutes();\n    this.bus.$on('setSendColumnsChildren', (res) => {\n      this.menuList = res.children;\n    });\n    this.bus.$on('layoutMobileResize', (res) => {\n      this.initMenuFixed(res.clientWidth);\n    });\n    // 菜单滚动条监听\n    this.bus.$on('updateElScrollBar', () => {\n      setTimeout(() => {\n        this.$refs.layoutAsideRef.update();\n      }, 300);\n    });\n  },\n  methods: {\n    // 设置/过滤路由（非静态路由/是否显示在菜单中）\n    setFilterRoutes() {\n      getUserMenu().then(res => {\n        this.menuList = res.data.filter(item=>!item.isHide);\n      })\n    },\n    // 设置菜单导航是否固定（移动端）\n    initMenuFixed(clientWidth) {\n      this.clientWidth = clientWidth;\n    },\n  },\n  // 页面销毁时\n  destroyed() {\n    // 取消菜单滚动条监听\n    this.bus.$off('updateElScrollBar', () => {\n    });\n  },\n};\n</script>\n"]}]}