{"remainingRequest":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navBars\\tagsView\\contextmenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\src\\layout\\navBars\\tagsView\\contextmenu.vue","mtime":1713709431000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-project\\course-assistance-system-master\\management-system-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICdsYXlvdXRUYWdzVmlld0NvbnRleHRtZW51JywKCXByb3BzOiB7CgkJZHJvcGRvd246IHsKCQkJdHlwZTogT2JqZWN0LAoJCX0sCgl9LAoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlpc1Nob3c6IGZhbHNlLAoJCQlkcm9wZG93bkxpc3Q6IFsKCQkJCXsgaWQ6IDAsIHR4dDogJ+WIt+aWsCcsIGFmZml4OiBmYWxzZSwgaWNvbjogJ2VsLWljb24tcmVmcmVzaC1yaWdodCcgfSwKCQkJCXsgaWQ6IDEsIHR4dDogJ+WFs+mXrScsIGFmZml4OiBmYWxzZSwgaWNvbjogJ2VsLWljb24tY2xvc2UnIH0sCgkJCQl7IGlkOiAyLCB0eHQ6ICflhbPpl63lhbbku5YnLCBhZmZpeDogZmFsc2UsIGljb246ICdlbC1pY29uLWNpcmNsZS1jbG9zZScgfSwKCQkJCXsgaWQ6IDMsIHR4dDogJ+WFs+mXreaJgOaciScsIGFmZml4OiBmYWxzZSwgaWNvbjogJ2VsLWljb24tZm9sZGVyLWRlbGV0ZScgfSwKCQkJXSwKCQkJcGF0aDoge30sCgkJCWFycm93TGVmdDogNSwKCQl9OwoJfSwKCWNvbXB1dGVkOiB7CgkJZHJvcGRvd25zKCkgewoJCQkvLyA5OSDkuLogYERyb3Bkb3duIOS4i+aLieiPnOWNlWAg55qE5a695bqmCgkJCWlmICh0aGlzLmRyb3Bkb3duLnggKyA5OSA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkgewoJCQkJcmV0dXJuIHsKCQkJCQl4OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLSA5OSAtIDUsCgkJCQkJeTogdGhpcy5kcm9wZG93bi55LAoJCQkJfTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiB0aGlzLmRyb3Bkb3duOwoJCQl9CgkJfSwKCX0sCgltb3VudGVkKCkgewoJCS8vIOebkeWQrOmhtemdouebkeWQrOi/m+ihjOWPs+mUruiPnOWNleeahOWFs+mXrQoJCWRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlQ29udGV4dG1lbnUpOwoJfSwKCW1ldGhvZHM6IHsKCQkvLyDlvZPliY3pobnoj5zljZXngrnlh7sKCQlvbkN1cnJlbnRDb250ZXh0bWVudUNsaWNrKGlkKSB7CgkJCXRoaXMuJGVtaXQoJ2N1cnJlbnRDb250ZXh0bWVudUNsaWNrJywgeyBpZCwgcGF0aDogdGhpcy5wYXRoIH0pOwoJCX0sCgkJLy8g5omT5byA5Y+z6ZSu6I+c5Y2V77ya5Yik5pat5piv5ZCm5Zu65a6a77yM5Zu65a6a5YiZ5LiN5pi+56S65YWz6Zet5oyJ6ZKuCgkJb3BlbkNvbnRleHRtZW51KGl0ZW0pIHsKCQkJdGhpcy5wYXRoID0gaXRlbS5wYXRoOwoJCQlpdGVtLm1ldGEuaXNBZmZpeCA/ICh0aGlzLmRyb3Bkb3duTGlzdFsxXS5hZmZpeCA9IHRydWUpIDogKHRoaXMuZHJvcGRvd25MaXN0WzFdLmFmZml4ID0gZmFsc2UpOwoJCQl0aGlzLmNsb3NlQ29udGV4dG1lbnUoKTsKCQkJc2V0VGltZW91dCgoKSA9PiB7CgkJCQl0aGlzLmlzU2hvdyA9IHRydWU7CgkJCX0sIDgwKTsKCQl9LAoJCS8vIOWFs+mXreWPs+mUruiPnOWNlQoJCWNsb3NlQ29udGV4dG1lbnUoKSB7CgkJCXRoaXMuaXNTaG93ID0gZmFsc2U7CgkJfSwKCX0sCglkZXN0cm95ZWQoKSB7CgkJLy8g6aG16Z2i5Y246L295pe277yM56e76Zmk5Y+z6ZSu6I+c5Y2V55uR5ZCs5LqL5Lu2CgkJZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VDb250ZXh0bWVudSk7Cgl9LAoJLy8g55uR5ZCs5LiL5ouJ6I+c5Y2V5L2N572uCgl3YXRjaDogewoJCWRyb3Bkb3duOiB7CgkJCWhhbmRsZXIoeyB4IH0pIHsKCQkJCWlmICh4ICsgOTkgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIHRoaXMuYXJyb3dMZWZ0ID0gOTkgLSAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIC0geCk7CgkJCQllbHNlIHRoaXMuYXJyb3dMZWZ0ID0gMTA7CgkJCX0sCgkJCWRlZXA6IHRydWUsCgkJfSwKCX0sCn07Cg=="},{"version":3,"sources":["contextmenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"contextmenu.vue","sourceRoot":"src/layout/navBars/tagsView","sourcesContent":["<template>\n\t<div>\n\t\t<transition name=\"el-zoom-in-center\">\n\t\t\t<ul\n\t\t\t\tclass=\"el-dropdown-menu el-popper el-dropdown-menu--medium custom-contextmenu\"\n\t\t\t\t:style=\"`top: ${dropdowns.y}px;left: ${dropdowns.x}px;`\"\n\t\t\t\tx-placement=\"bottom-end\"\n\t\t\t\tid=\"contextmenu\"\n\t\t\t\tv-show=\"isShow\"\n\t\t\t>\n\t\t\t\t<li class=\"el-dropdown-menu__item\" v-for=\"(v, k) in dropdownList\" :key=\"k\" @click=\"onCurrentContextmenuClick(v.id)\">\n\t\t\t\t\t<template v-if=\"!v.affix\">\n\t\t\t\t\t\t<i :class=\"v.icon\"></i>\n\t\t\t\t\t\t<span>{{ v.txt }}</span>\n\t\t\t\t\t</template>\n\t\t\t\t</li>\n\t\t\t\t<div x-arrow class=\"popper__arrow\" :style=\"{ left: `${arrowLeft}px` }\"></div>\n\t\t\t</ul>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'layoutTagsViewContextmenu',\n\tprops: {\n\t\tdropdown: {\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisShow: false,\n\t\t\tdropdownList: [\n\t\t\t\t{ id: 0, txt: '刷新', affix: false, icon: 'el-icon-refresh-right' },\n\t\t\t\t{ id: 1, txt: '关闭', affix: false, icon: 'el-icon-close' },\n\t\t\t\t{ id: 2, txt: '关闭其他', affix: false, icon: 'el-icon-circle-close' },\n\t\t\t\t{ id: 3, txt: '关闭所有', affix: false, icon: 'el-icon-folder-delete' },\n\t\t\t],\n\t\t\tpath: {},\n\t\t\tarrowLeft: 5,\n\t\t};\n\t},\n\tcomputed: {\n\t\tdropdowns() {\n\t\t\t// 99 为 `Dropdown 下拉菜单` 的宽度\n\t\t\tif (this.dropdown.x + 99 > document.documentElement.clientWidth) {\n\t\t\t\treturn {\n\t\t\t\t\tx: document.documentElement.clientWidth - 99 - 5,\n\t\t\t\t\ty: this.dropdown.y,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn this.dropdown;\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\t// 监听页面监听进行右键菜单的关闭\n\t\tdocument.body.addEventListener('click', this.closeContextmenu);\n\t},\n\tmethods: {\n\t\t// 当前项菜单点击\n\t\tonCurrentContextmenuClick(id) {\n\t\t\tthis.$emit('currentContextmenuClick', { id, path: this.path });\n\t\t},\n\t\t// 打开右键菜单：判断是否固定，固定则不显示关闭按钮\n\t\topenContextmenu(item) {\n\t\t\tthis.path = item.path;\n\t\t\titem.meta.isAffix ? (this.dropdownList[1].affix = true) : (this.dropdownList[1].affix = false);\n\t\t\tthis.closeContextmenu();\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isShow = true;\n\t\t\t}, 80);\n\t\t},\n\t\t// 关闭右键菜单\n\t\tcloseContextmenu() {\n\t\t\tthis.isShow = false;\n\t\t},\n\t},\n\tdestroyed() {\n\t\t// 页面卸载时，移除右键菜单监听事件\n\t\tdocument.body.removeEventListener('click', this.closeContextmenu);\n\t},\n\t// 监听下拉菜单位置\n\twatch: {\n\t\tdropdown: {\n\t\t\thandler({ x }) {\n\t\t\t\tif (x + 99 > document.documentElement.clientWidth) this.arrowLeft = 99 - (document.documentElement.clientWidth - x);\n\t\t\t\telse this.arrowLeft = 10;\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t},\n};\n</script>\n\n<style scoped lang=\"scss\">\n.custom-contextmenu {\n\ttransform-origin: center top;\n\tz-index: 2190;\n\tposition: fixed;\n\t.el-dropdown-menu__item {\n\t\tfont-size: 12px !important;\n\t\twhite-space: nowrap;\n\t\ti {\n\t\t\tfont-size: 12px !important;\n\t\t}\n\t}\n}\n</style>\n"]}]}